if (self.CavalryLogger) { CavalryLogger.start_js(["RPgO6"]); }

__d("SubscribeStatuses",[],(function a(b,c,d,e,f,g){f.exports={CANNOT_SUBSCRIBE:"CANNOT_SUBSCRIBE",IS_SUBSCRIBED:"IS_SUBSCRIBED",CAN_SUBSCRIBE:"CAN_SUBSCRIBE"}}),null);
__d("CameraPostBucketOwnerHelper",["idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return((k=j)!=null?k.id:k)||""},getName:function i(j){var k;return((k=j)!=null?k.name:k)||""},getGender:function i(j){if(!j)return"";return j.gender?j.gender:""},isEventHost:function i(j){if(!j)return false;return j.is_viewer_host?!!j.is_viewer_host:false},isViewerFriend:function i(j){if(!j)return false;return j.is_viewer_friend?!!j.is_viewer_friend:false},getSubscribeStatus:function i(j){if(!j)return null;return j.subscribe_status?j.subscribe_status:null},getProfilePictureUri:function i(j){if(!j||!j.profile_picture)return"";return j.profile_picture.uri||""},getCoverPhotoUri:function i(j){var k;if(!j||!j.cover_photo)return"";return((k=j)!=null?(k=k.cover_photo)!=null?(k=k.photo)!=null?(k=k.image)!=null?k.uri:k:k:k:k)||""},isViewerPageContentAdmin:function i(j){var k=h._getViewerProfilePermissions(j);return k&&k.includes("CREATE_CONTENT")||false},_getViewerProfilePermissions:function i(j){var k;if(!j||!j.viewer_profile_permissions)return null;return((k=j)!=null?k.viewer_profile_permissions:k)||null}};f.exports=h}),null);
__d("CameraPostMediaHelper",["idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return((k=j)!=null?k.id:k)||""},getWidth:function i(j){if(!j)return 0;if(j.width)return j.width;if(j.image)return j.image.width||0;return 0},getHeight:function i(j){if(!j)return 0;if(j.height)return j.height;if(j.image)return j.image.height||0;return 0},getType:function i(j){var k;return((k=j)!=null?k.__typename:k)||""},getImageUri:function i(j){if(!j)return null;return j.image?j.image.uri:null},isImage:function i(j){return h.getType(j)==="Photo"},isVideo:function i(j){return h.getType(j)==="Video"},getPreviewImage:function i(j){if(!j)return null;return j.preview_image?j.preview_image.uri:null}};f.exports=h}),null);
__d("CameraPostThreadOwnerHelper",["idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return(k=j)!=null?k.id:k},getName:function i(j){var k;return((k=j)!=null?k.name:k)||""},getIsViewerFriend:function i(j){var k;return!!((k=j)!=null?k.is_viewer_friend:k)},getProfilePictureUri:function i(j){var k;return((k=j)!=null?(k=k.profile_picture)!=null?k.uri:k:k)||""}};f.exports=h}),null);
__d("CameraPostTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DIRECT:"DIRECT",GROUP_DIRECT:"GROUP_DIRECT",DIRECT_NUX:"DIRECT_NUX",STORY:"STORY",STORY_NUX:"STORY_NUX",PAGE_STORY:"PAGE_STORY",EVENT_STORY:"EVENT_STORY",BIRTHDAY_STORY:"BIRTHDAY_STORY",GROUP_STORY:"GROUP_STORY",LIVE_STORY:"LIVE_STORY",PROMOTION_STORY:"PROMOTION_STORY"})}),null);
__d("CameraPostTypesHelper",["CameraPostTypes"],(function a(b,c,d,e,f,g){"use strict";var h={isEventStory:function i(j){return j===c("CameraPostTypes").EVENT_STORY},isGroupStory:function i(j){return j===c("CameraPostTypes").GROUP_STORY},isPageStory:function i(j){return j===c("CameraPostTypes").PAGE_STORY},isPromotionStory:function i(j){return j===c("CameraPostTypes").PROMOTION_STORY},isStory:function i(j){return j===c("CameraPostTypes").STORY},isStoryNux:function i(j){return j===c("CameraPostTypes").STORY_NUX}};f.exports=h}),null);
__d("DialogPosition",["Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h=40,i,j={calculateTopMargin:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?null:arguments[2],o=arguments.length<=3||arguments[3]===undefined?false:arguments[3],p=c("Vector").getViewportDimensions(),q=false;if(o&&n)q=n+m>p.y;if(n&&!q)return n;if(i)return i;var r=Math.floor((p.x+l)*(p.y-m)/(4*p.x));return Math.max(r,h)},setFixedTopMargin:function k(l){i=l}};f.exports=j}),null);
__d("JSXDOM",["DOM","FbtResultBase","flattenArray"],(function a(b,c,d,e,f,g){__p&&__p();var h=["a","blockquote","br","button","canvas","checkbox","dd","div","dl","dt","em","form","h1","h2","h3","h4","h5","h6","hr","i","iframe","img","input","label","li","option","p","pre","select","span","strong","table","tbody","thead","td","textarea","th","tr","ul","video"],i={};h.forEach(function(j){__p&&__p();var k=function k(l,m){__p&&__p();if(arguments.length>2)m=Array.prototype.slice.call(arguments,1);if(!m&&l){m=l.children;delete l.children}if(m){m=Array.isArray(m)?m:[m];m=m.map(function(n){if(n instanceof c("FbtResultBase"))return n.flattenToArray();return n});m=c("flattenArray")(m)}return c("DOM").create(j,l,m)};i[j]=k});f.exports=i}),null);
__d("BehaviorsMixin",[],(function a(b,c,d,e,f,g){__p&&__p();function h(l){"use strict";this.$InstalledBehavior1=l;this.$InstalledBehavior2=false}h.prototype.enable=function(){"use strict";if(!this.$InstalledBehavior2){this.$InstalledBehavior2=true;this.$InstalledBehavior1.enable()}};h.prototype.disable=function(){"use strict";if(this.$InstalledBehavior2){this.$InstalledBehavior2=false;this.$InstalledBehavior1.disable()}};var i=1;function j(l){if(!l.__BEHAVIOR_ID)l.__BEHAVIOR_ID=i++;return l.__BEHAVIOR_ID}var k={enableBehavior:function l(m){if(!this._behaviors)this._behaviors={};var n=j(m);if(!this._behaviors[n])this._behaviors[n]=new h(new m(this));this._behaviors[n].enable();return this},disableBehavior:function l(m){if(this._behaviors){var n=j(m);if(this._behaviors[n])this._behaviors[n].disable()}return this},enableBehaviors:function l(m){m.forEach(this.enableBehavior,this);return this},destroyBehaviors:function l(){if(this._behaviors){for(var m in this._behaviors)this._behaviors[m].disable();this._behaviors={}}},hasBehavior:function l(m){return this._behaviors&&j(m)in this._behaviors}};f.exports=k}),null);
__d("isValidReactElement",[],(function a(b,c,d,e,f,g){var h=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function i(j){return!!(typeof j==="object"&&j!==null&&j.$$typeof===h)}f.exports=i}),null);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(j){c("Bootloader").loadModules(["ReactDOM"],j,"BootloadedReact")},i={isValidElement:function j(k){return c("isValidReactElement")(k)},render:function j(k,l,m){h(function(n){n.render(k,l,function(){m&&m(this)})})},unmountComponentAtNode:function j(k,l){h(function(m){m.unmountComponentAtNode(k);l&&l()})}};f.exports=i}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();var h={register:function i(j,k){j.setAttribute("data-ownerid",c("getOrCreateDOMID")(k))},containsIncludingLayers:function i(j,k){var l=k;while(l){if(c("containsNode")(j,l))return true;l=h.getContext(l)}return false},getContext:function i(j){var k=j,l=void 0;while(k){if(k.getAttribute&&(l=k.getAttribute("data-ownerid")))return c("ge")(l);k=k.parentNode}return null},parentByClass:function i(j,k){var l=j,m=void 0;while(l&&!c("CSS").hasClass(l,k))if(l.getAttribute&&(m=l.getAttribute("data-ownerid")))l=c("ge")(m);else l=l.parentNode;return l}};f.exports=h}),null);
__d("Layer",["KeyStatus","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","HTML","KeyEventController","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;c("KeyStatus");var j=[];h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));i=h&&h.prototype;function k(n,o){"use strict";i.constructor.call(this);this._config=n||{};if(o){this._configure(this._config,o);var p=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(p))}}k.prototype.init=function(n){"use strict";this._configure(this._config,n);var o=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(o));this._initialized=true;return this};k.prototype._configure=function(n,o){__p&&__p();var p,q=this;"use strict";if(o){var r=c("isNode")(o),s=typeof o==="string"||c("HTML").isHTML(o);this.containsReactComponent=c("BootloadedReact").isValidElement(o);if(s)o=c("HTML")(o).getRootNode();else if(this.containsReactComponent){var t;(function(){t=document.createElement("div");var u=true;c("BootloadedReact").render(o,t,function(){this.inform("reactshow");if(!u)this.updatePosition()}.bind(q));u=false;o=q._reactContainer=t})()}}this._root=this._buildWrapper(n,o);if(n.attributes)c("DOM").setAttributes(this._root,n.attributes);if(n.classNames)n.classNames.forEach(c("CSS").addClass.bind(null,this._root));c("CSS").addClass(this._root,"uiLayer");if(n.causalElement)this._causalElement=c("ge")(n.causalElement);if(n.permanent)this._permanent=n.permanent;if(n.isStrictlyControlled)this._isStrictlyControlled=n.isStrictlyControlled;c("DataStore").set(this._root,"layer",this)};k.prototype._getDefaultBehaviors=function(){"use strict";return[]};k.prototype.getCausalElement=function(){"use strict";return this._causalElement};k.prototype.setCausalElement=function(n){"use strict";this._causalElement=n;return this};k.prototype.getInsertParent=function(){"use strict";return this._insertParent||document.body};k.prototype.getRoot=function(){"use strict";return this._root};k.prototype.getContentRoot=function(){"use strict";return this._root};k.prototype._buildWrapper=function(n,o){"use strict";return o};k.prototype.setInsertParent=function(n){"use strict";if(n){if(this._shown&&n!==this.getInsertParent()){c("DOM").appendContent(n,this.getRoot());this.updatePosition()}this._insertParent=n}return this};k.prototype.showAfterDelay=function(n){"use strict";setTimeout(this.show.bind(this),n)};k.prototype.show=function(){"use strict";__p&&__p();if(this._shown)return this;var n=this.getRoot();this.inform("beforeshow");c("Style").set(n,"visibility","hidden");c("Style").set(n,"overflow","hidden");c("CSS").show(n);c("DOM").appendContent(this.getInsertParent(),n);if(this.updatePosition()!==false){this._shown=true;this.inform("show");k.inform("show",this);if(!this._permanent)setTimeout(function(){if(this._shown)j.push(this)}.bind(this),0)}else c("CSS").hide(n);c("Style").set(n,"visibility","");c("Style").set(n,"overflow","");c("Style").set(n,"opacity","1");this.inform("aftershow");return this};k.prototype.hide=function(n){"use strict";if(this._isStrictlyControlled){this._shown&&this.inform("runhide",n);return this}return this._hide()};k.prototype._hide=function(){"use strict";if(this._hiding||!this._shown||this.inform("beforehide")===false)return this;this._hiding=true;if(this.inform("starthide")!==false)this.finishHide();return this};k.prototype.conditionShow=function(n){"use strict";return n?this.show():this._hide()};k.prototype.finishHide=function(){"use strict";__p&&__p();if(this._shown){if(!this._permanent)c("removeFromArray")(j,this);this._hiding=false;this._shown=false;c("CSS").hide(this.getRoot());this.inform("hide");k.inform("hide",this)}};k.prototype.isShown=function(){"use strict";return this._shown};k.prototype.updatePosition=function(){"use strict";return true};k.prototype.destroy=function(){"use strict";__p&&__p();if(this.containsReactComponent)c("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var n=this.getRoot();c("DOM").remove(n);this.destroyBehaviors();this.inform("destroy");k.inform("destroy",this);c("DataStore").remove(n,"layer");this._root=this._causalElement=null};k.init=function(n,o){"use strict";n.init(o)};k.initAndShow=function(n,o){"use strict";n.init(o).show()};k.show=function(n){"use strict";n.show()};k.showAfterDelay=function(n,o){"use strict";n.showAfterDelay(o)};k.getTopmostLayer=function(){"use strict";return j[j.length-1]};Object.assign(k,c("ArbiterMixin"));Object.assign(k.prototype,{_initialized:false,_root:null,_shown:false,_hiding:false,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(event){if(c("KeyEventController").filterEventTargets(event,"keydown"))for(var n=j.length-1;n>=0;n--)if(j[n].inform("key",event)===false)return false},c("Event").Priority.URGENT);var l;c("Event").listen(document.documentElement,"mousedown",function(event){l=event.getTarget()});var m;c("Event").listen(document.documentElement,"mouseup",function(event){m=event.getTarget();c("setImmediate")(function(){l=null;m=null})});c("Event").listen(document.documentElement,"click",function(event){__p&&__p();var n=l,o=m;l=null;m=null;var p=j.length;if(!p)return;var q=event.getTarget();if(q!==o||q!==n)return;if(!c("DOM").contains(document.documentElement,q))return;if(!q.offsetWidth)return;if(c("Parent").byClass(q,"generic_dialog"))return;while(p--){var r=j[p],s=r.getContentRoot();if(c("ContextualThing").containsIncludingLayers(s,q))return;if(r.inform("blur",{target:q})===false||r.isShown())return}});f.exports=k}),null);
__d("focusWithinLayer",["DOMQuery","Focus","TabbableElements","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=c("DOMQuery").scry(i,".autofocus")[0],l=true;if(!k){var m=c("getActiveElement")();if(c("DOMQuery").isNodeOfType(m,["input","textarea"]))return;var n=c("TabbableElements").find(i);for(var o=0;o<n.length;o++){var p=n[o];if(p.tagName!=="A"||p.getAttribute("role")==="button"){k=n[o];break}}}else if(k.tabIndex!==0)l=false;if(k)l?c("Focus").set(k,j):c("Focus").setWithoutOutline(k);else if(!i.offsetWidth){i.tabIndex=-1;c("Focus").setWithoutOutline(i)}}f.exports=h}),null);
__d("LayerAutoFocus",["focusWithinLayer"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i;this._subscription=null}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("aftershow",this._focus.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._focus=function(){"use strict";var i=this._layer.getRoot();i&&c("focusWithinLayer")(i)};f.exports=h}),null);
__d("Button",["csx","cx","CSS","DataStore","DOM","Event","Parent","emptyFunction","isNode"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="uiButtonDisabled",k="uiButtonDepressed",l="_42fr",m="_42fs",n="button:blocker",o="href",p="ajaxify";function q(w,x){var y=c("DataStore").get(w,n);if(x){if(y){y.remove();c("DataStore").remove(w,n)}}else if(!y)c("DataStore").set(w,n,c("Event").listen(w,"click",c("emptyFunction").thatReturnsFalse,c("Event").Priority.URGENT))}function r(w){var x=c("Parent").byClass(w,"uiButton")||c("Parent").bySelector(w,"._42ft");if(!x)throw new Error("invalid use case");return x}function s(w){return c("DOM").isNodeOfType(w,"a")}function t(w){return c("DOM").isNodeOfType(w,"button")}function u(w){return c("CSS").matchesSelector(w,"._42ft")}var v={getInputElement:function w(x){x=r(x);if(s(x))throw new Error("invalid use case");return t(x)?x:c("DOM").find(x,"input")},isEnabled:function w(x){return!(c("CSS").hasClass(r(x),j)||c("CSS").hasClass(r(x),l))},setEnabled:function w(x,y){__p&&__p();x=r(x);var z=u(x)?l:j;c("CSS").conditionClass(x,z,!y);if(s(x)){var A=x.getAttribute("href"),B=x.getAttribute("ajaxify"),C=c("DataStore").get(x,o,"#"),D=c("DataStore").get(x,p);if(y){if(!A)x.setAttribute("href",C);if(!B&&D)x.setAttribute("ajaxify",D);x.removeAttribute("tabIndex")}else{if(A&&A!==C)c("DataStore").set(x,o,A);if(B&&B!==D)c("DataStore").set(x,p,B);x.removeAttribute("href");x.removeAttribute("ajaxify");x.setAttribute("tabIndex","-1")}q(x,y)}else{var E=v.getInputElement(x);E.disabled=!y;q(E,y)}},setDepressed:function w(x,y){x=r(x);var z=u(x)?m:k;c("CSS").conditionClass(x,z,y)},isDepressed:function w(x){x=r(x);var y=u(x)?m:k;return c("CSS").hasClass(x,y)},setLabel:function w(x,y){__p&&__p();x=r(x);if(u(x)){var z=[];if(y)z.push(y);var A=c("DOM").scry(x,".img");for(var B=0;B<A.length;B++){var C=A[B],D=C.parentNode;if(D.classList&&(D.classList.contains("_4o_3")||D.classList.contains("_-xe")))if(x.firstChild===D)z.unshift(D);else z.push(D);else if(x.firstChild==C)z.unshift(C);else z.push(C)}c("DOM").setContent(x,z)}else if(s(x)){var E=c("DOM").find(x,"span.uiButtonText");c("DOM").setContent(E,y)}else v.getInputElement(x).value=y;var F=u(x)?"_42fv":"uiButtonNoText";c("CSS").conditionClass(x,F,!y)},getIcon:function w(x){x=r(x);return c("DOM").scry(x,".img")[0]},setIcon:function w(x,y){__p&&__p();if(y&&!c("isNode")(y))return;var z=v.getIcon(x);if(!y){z&&c("DOM").remove(z);return}c("CSS").addClass(y,"customimg");if(z!=y)if(z)c("DOM").replace(z,y);else c("DOM").prependContent(r(x),y)}};f.exports=v}),null);
__d("LayerButtons",["csx","Button","Event","LayerHideSources","Parent"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this._layer=j}i.prototype.enable=function(){"use strict";this._listener=c("Event").listen(this._layer.getRoot(),"click",this._handle.bind(this))};i.prototype.disable=function(){"use strict";this._listener.remove();this._listener=null};i.prototype._handle=function(j){"use strict";__p&&__p();var k=j.getTarget(),l=c("Parent").byClass(k,"layerHide");if(l){this._layer.hide(c("LayerHideSources").LAYER_HIDE_BUTTON);return}var m=c("Parent").byClass(k,"layerConfirm");if(m){if(this._isButton(m)&&!c("Button").isEnabled(m))return;if(this._isInNestedLayer(m))return;if(this._layer.inform("confirm",m)===false)j.prevent();return}var n=c("Parent").byClass(k,"layerCancel");if(n){if(this._isButton(n)&&!c("Button").isEnabled(n))return;if(this._isInNestedLayer(n))return;if(this._layer.inform("cancel",n)!==false)this._layer.hide(c("LayerHideSources").LAYER_CANCEL_BUTTON);j.prevent();return}var o=c("Parent").byClass(k,"layerButton");if(o){if(this._isButton(o)&&!c("Button").isEnabled(o))return;if(this._isInNestedLayer(o))return;if(this._layer.inform("button",o)===false)j.prevent()}};i.prototype._isInNestedLayer=function(j){"use strict";var k=c("Parent").byClass(j,"uiLayer"),l=this._layer.getRoot();return!!(k&&l!==k)};i.prototype._isButton=function(j){"use strict";return!!(c("Parent").byClass(j,"uiButton")||c("Parent").bySelector(j,"._42ft"))};i.prototype._listener=null;f.exports=i}),null);
__d("LayerFormHooks",["Event"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";var i=this._layer.getRoot();this._subscriptions=[c("Event").listen(i,"submit",this._onSubmit.bind(this)),c("Event").listen(i,"success",this._onSuccess.bind(this)),c("Event").listen(i,"error",this._onError.bind(this))]};h.prototype.disable=function(){"use strict";this._subscriptions.forEach(function(i){i.remove()});this._subscriptions=null};h.prototype._onSubmit=function(event){"use strict";if(this._layer.inform("submit",event)===false)event.kill()};h.prototype._onSuccess=function(event){"use strict";if(this._layer.inform("success",event)===false)event.kill()};h.prototype._onError=function(event){"use strict";var i=event.getData();if(this._layer.inform("error",{response:i.response})===false)event.kill()};Object.assign(h.prototype,{_subscriptions:null});f.exports=h}),null);
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("hide",this._handle.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._handle=function(i,event){"use strict";__p&&__p();var j=c("getActiveElement")();if(j===document.body||c("DOMQuery").contains(this._layer.getRoot(),j)){var k=this._layer.getCausalElement();while(k&&!k.offsetWidth){var l=c("Parent").byClass(k,"uiToggle");if(l&&l.offsetWidth)k=c("DOM").scry(l,'[rel="toggle"]')[0];else{var m=c("ContextualThing").getContext(k);if(m)k=m;else k=k.parentNode}}if(k)c("Focus").set(k)}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("Toggler",["csx","invariant","Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","DOM","DOMQuery","Event","Focus","Keys","Parent","TabbableElements","TimeSlice","createArrayFromMixed","emptyFunction","ge","getContextualParent","getObjectValues","killswitch","mixin","setImmediate","queryThenMutateDOM","$"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=[],m,n=false;function o(){if(!n){n=true;c("setImmediate")(function(){n=false})}}var p=function t(){p=c("emptyFunction");c("Event").listen(document.documentElement,"click",function(event){if(n)return;var u=event.getTarget();l.forEach(function(v){v.clickedTarget=u;v.active&&!v.sticky&&!c("ContextualThing").containsIncludingLayers(v.getActive(),u)&&!v.inTargetFlyout(u)&&v.inActiveDialog()&&!v.isIgnoredByModalLayer(u)&&v.hide()})},c("Event").Priority.URGENT)};j=babelHelpers.inherits(q,c("mixin")(c("ArbiterMixin")));k=j&&j.prototype;function q(){"use strict";k.constructor.call(this);this.active=null;this.togglers={};this.setSticky(false);this.setFastShow(false);l.push(this);this.subscribe(["show","hide"],q.inform.bind(q));return p()}q.prototype.focusFirstTabbableDescendant=function(t,u){__p&&__p();var v;"use strict";if(u.fastShow)(function(){__p&&__p();if(u.$Toggler2)u.$Toggler2.cancel();var y=null;u.$Toggler2=c("queryThenMutateDOM")(function(){var w=c("DOMQuery").find(t,".uiToggleFlyout");y=c("TabbableElements").findFirst(w)||w},function(){delete u.$Toggler2;if(y){if(y.tabIndex==-1)y.tabIndex=0;c("Focus").setWithoutOutline(y)}})})();else{var w=c("DOMQuery").scry(t,".uiToggleFlyout")[0];if(w){var x=c("TabbableElements").find(w)[0]||w;if(x.tabIndex==-1)x.tabIndex=0;c("Focus").setWithoutOutline(x)}}};q.prototype.show=function(t){"use strict";__p&&__p();var u=r(this,t),v=u.active;if(t!==v){v&&u.hide();u.active=t;c("CSS").addClass(t,"openToggler");var w=c("DOM").scry(t,'a[rel="toggle"]');if(w.length>0&&w[0].getAttribute("data-target"))c("CSS").removeClass(c("$")(w[0].getAttribute("data-target")),"toggleTargetClosed");this.focusFirstTabbableDescendant(t,u);if(w.length>0){c("DOM").appendContent(t,u.getToggler("next"));c("DOM").prependContent(t,u.getToggler("prev"))}c("Event").listen(t,"keydown",function(event){if(c("Event").getKeyCode(event)===c("Keys").ESC)if(u.isShown()){var x=c("DOM").scry(t,'a[rel="toggle"]')[0];x&&x.focus();u.hide();event.kill()}});if(t.getAttribute("data-toggle-wc"))u.__continuation=c("TimeSlice").getGuardedContinuation("Toggler.show inform");u.inform("show",u,c("Arbiter").BEHAVIOR_STATE)}};q.prototype.hide=function(t){"use strict";__p&&__p();var u=r(this,t);if(u.$Toggler2)u.$Toggler2.cancel();var v=u.active;if(v&&(!t||t===v)){c("CSS").removeClass(v,"openToggler");var w=c("DOM").scry(v,'a[rel="toggle"]');if(w.length>0&&w[0].getAttribute("data-target"))c("CSS").addClass(c("$")(w[0].getAttribute("data-target")),"toggleTargetClosed");c("getObjectValues")(u.togglers).forEach(c("DOM").remove);if(v.getAttribute("data-toggle-wc"))u.__continuation=c("TimeSlice").getGuardedContinuation("Toggler.hide inform");u.inform("hide",u,c("Arbiter").BEHAVIOR_STATE);u.active=null}};q.prototype.toggle=function(t){"use strict";var u=r(this,t);if(u.active===t)u.hide();else u.show(t);o()};q.prototype.getActive=function(){"use strict";return r(this).active};q.prototype.isShown=function(){"use strict";return r(this).active&&c("CSS").hasClass(r(this).active,"openToggler")};q.isNodeShown=function(t){"use strict";return c("CSS").hasClass(t,"openToggler")};q.prototype.inTargetFlyout=function(t){"use strict";var u=s(this.getActive());return Boolean(u&&c("ContextualThing").containsIncludingLayers(u,t))};q.prototype.inActiveDialog=function(){"use strict";var t=b.Dialog&&b.Dialog.getCurrent();return!t||c("DOM").contains(t.getRoot(),this.getActive())};q.prototype.isIgnoredByModalLayer=function(t){"use strict";var u=!!c("Parent").bySelector(t,"._3qw"),v=!!c("Parent").bySelector(this.getActive(),"._3qw");return u&&!v};q.prototype.getToggler=function(t){"use strict";__p&&__p();var u=r(this);if(!u.togglers[t]){u.togglers[t]=c("DOM").create("button",{className:"hideToggler",onfocus:function v(){var w=c("DOM").scry(u.active,'a[rel="toggle"]')[0];w&&w.focus();u.hide()},style:{right:t==="next"?"0":""}});u.togglers[t].setAttribute("type","button")}return this.togglers[t]};q.prototype.setSticky=function(t){"use strict";__p&&__p();var u=r(this);t=t!==false;if(t!==u.sticky){u.sticky=t;if(t)u.$Toggler1&&u.$Toggler1.unsubscribe();else u.$Toggler1=c("Arbiter").subscribe("pre_page_transition",u.hide.bind(u,null))}return u};q.prototype.setFastShow=function(t){"use strict";var u=r(this);u.fastShow=t;return u};q.prototype.setPrePageTransitionCallback=function(t){"use strict";var u=r(this);u.$Toggler1&&u.$Toggler1.unsubscribe();u.$Toggler1=c("Arbiter").subscribe("pre_page_transition",t)};q.bootstrap=function(t){"use strict";var u=t.parentNode;u!=null||i(0);var v=q.getInstance(u);v!=null||i(0);v.toggle(u)};q.createInstance=function(t){"use strict";var u=new q().setSticky(true);c("DataStore").set(t,"toggler",u);return u};q.destroyInstance=function(t){"use strict";var u=c("DataStore").get(t,"toggler");if(u&&u.$Toggler2)u.$Toggler2.cancel();c("DataStore").remove(t,"toggler")};q.getInstance=function(t){"use strict";__p&&__p();while(t){var u=c("DataStore").get(t,"toggler");if(u)return u;if(c("CSS").hasClass(t,"uiToggleContext"))return q.createInstance(t);else if(!c("killswitch")("JEWEL_TOGGLER_INSTANCE_FIXES")&&c("CSS").hasClass(t,"uiToggleFlyout"))return q.createInstance(t).setSticky(false);t=c("getContextualParent")(t)}return m=m||new q()};q.listen=function(t,u,v){"use strict";__p&&__p();return q.subscribe(c("createArrayFromMixed")(t),function(w,x){if(x.getActive()===u){if(x.__continuation){var y=x.__continuation;delete x.__continuation;return y(function(){return v(w,x)})}return v(w,x)}})};Object.assign(q,q.prototype,c("ArbiterMixin"));Object.assign(q,{subscribe:function(t){return function(u,v){u=c("createArrayFromMixed")(u);if(u.includes("show"))l.forEach(function(w){if(w.getActive())setTimeout(v.bind(null,"show",w),0)});return t(u,v)}}(q.subscribe.bind(q))});function r(t,u){if(t instanceof q)return t;return q.getInstance(u)}function s(t){var u=c("DOM").scry(t,'a[rel="toggle"]');if(u.length>0&&u[0].getAttribute("data-target"))return c("ge")(u[0].getAttribute("data-target"));return null}f.exports=q}),null);
__d("LayerTogglerContext",["Toggler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._root=this._layer.getRoot();c("Toggler").createInstance(this._root).setSticky(false)};h.prototype.disable=function(){"use strict";c("Toggler").destroyInstance(this._root);this._root=null};f.exports=h}),null);
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","HTML","Vector","ViewportBounds","getDocumentScrollElement","getElementPosition","getViewportDimensions","isAsyncScrollQuery","isNode"],(function a(b,c,d,e,f,g){__p&&__p();function h(m,n){return function(){var o=arguments;l.monitor(arguments[m],function(){n.apply(null,o)})}}function i(m){__p&&__p();if(!(m instanceof Array))m=[m];for(var n=0;n<m.length;n++){var o=c("HTML").replaceJSONWrapper(m[n]);if(o instanceof c("HTML"))return o.getRootNode();else if(c("isNode")(o))return o}return null}function j(m){return c("getElementPosition")(m).y>c("ViewportBounds").getTop()}function k(m){var n=c("getElementPosition")(m).y+c("DOMDimensions").getElementDimensions(m).height,o=c("getViewportDimensions")().height-c("ViewportBounds").getBottom();return n>=o}var l=babelHelpers["extends"]({monitor:function m(n,o){__p&&__p();if(c("isAsyncScrollQuery")())return o();var p=i(n);if(p){var q=!!p.offsetParent;if(q&&(j(p)||k(p)))return o();var r=c("Vector").getDocumentDimensions(),s=o();if(q||p.offsetParent&&!j(p)){var t=c("Vector").getDocumentDimensions().sub(r),u={delta:t,target:p};if(l.inform("scroll",u)!==false)t.scrollElementBy(c("getDocumentScrollElement")())}return s}else return o()},replace:function m(n,o){var p=i(o);if(!p||c("CSS").hasClass(p,"hidden_elem"))p=n;return l.monitor(p,function(){c("DOM").replace(n,o)})},prependContent:h(1,c("DOM").prependContent),insertAfter:h(1,c("DOM").insertAfter),insertBefore:h(1,c("DOM").insertBefore),setContent:h(0,c("DOM").setContent),appendContent:h(1,c("DOM").appendContent),remove:h(0,c("DOM").remove),empty:h(0,c("DOM").empty)},c("ArbiterMixin"));f.exports=l}),null);
__d("ModalLayer",["csx","cx","Arbiter","ArbiterMixin","CSS","DataStore","DOM","DOMDimensions","DOMQuery","Event","Scroll","ScrollAwareDOM","Style","UserAgent","Vector","debounceAcrossTransitions","getDocumentScrollElement","isAsyncScrollQuery","removeFromArray","setTimeoutAcrossTransitions","ge"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=[],k=null,l=null,m=null;function n(){if(!m)m=c("DOMQuery").scry(document.body,"._li")[0]||c("ge")("FB4BResponsiveMain");return m}function o(v){__p&&__p();var w={position:c("Vector").getScrollPosition(),listener:undefined},x=v.offsetTop-w.position.y;c("CSS").addClass(v,"_31e");c("Style").set(v,"top",x+"px");c("Arbiter").inform("reflow");w.listener=c("ScrollAwareDOM").subscribe("scroll",function(y,z){if(c("DOMQuery").contains(v,z.target)){var x=v.offsetTop-z.delta.y;c("Style").set(v,"top",x+"px");w.position=w.position.add(z.delta);return false}return true});c("DataStore").set(v,"ModalLayerData",w)}function p(v,w){__p&&__p();var x=c("DataStore").get(v,"ModalLayerData");if(x){var y=function y(){__p&&__p();c("CSS").removeClass(v,"_31e");c("Style").set(v,"top","");if(w){var A=c("getDocumentScrollElement")();c("Scroll").setTop(A,x.position.y);if(c("Scroll").getTop(A)!==x.position.y){c("Scroll").setTop(A,x.position.y+1);c("Scroll").setTop(A,x.position.y)}}c("Arbiter").inform("reflow");x.listener.unsubscribe();x.listener=null;c("DataStore").remove(v,"ModalLayerData")};if(w&&c("isAsyncScrollQuery")()){var z=c("DOM").create("div",{className:"_42w"});c("Style").set(z,"height",v.offsetHeight+"px");c("DOM").appendContent(document.body,z);var A=c("getDocumentScrollElement")();c("Scroll").setTop(A,x.position.y);w=false;setTimeout(function(){y();c("DOM").remove(z)},0)}else y()}}function q(){var v=n();if(v!=null&&!c("CSS").matchesSelector(v,"._31e"))o(v)}function r(){if(!j.length)p(n(),true)}function s(){__p&&__p();var v=j.length;while(v--){var w=j[v],x=w.getLayerRoot();if(x){t(x,0);var y=w.getLayerContentRoot();if(y){var z=y.offsetWidth+c("DOMDimensions").measureElementBox(y,"width",0,0,1);t(x,z)}}}}function t(v,w){c("Style").set(v,"min-width",w+(w?"px":""))}function u(v){"use strict";this._layer=v;this._enabled=false}u.prototype.enable=function(){"use strict";if(!n())return;this._subscription=this._layer.subscribe(["show","hide"],function(v){v=="show"?this._addModal():this._removeModal()}.bind(this));if(this._layer.isShown())this._addModal();this._enabled=true};u.prototype.disable=function(){"use strict";if(!n())return;this._subscription&&this._subscription.unsubscribe();if(this._layer.isShown())this._removeModal();this._enabled=false};u.prototype._addModal=function(){"use strict";__p&&__p();var v=this.getLayerRoot();c("CSS").addClass(v,"_3qw");this._wash=c("DOM").create("div",{className:"_3ixn"});c("DOM").prependContent(v,this._wash);var w=j[j.length-1];if(w)o(w.getLayerRoot());else q();var x=c("getDocumentScrollElement")();c("Scroll").setTop(x,0);if(!j.length){var y=c("debounceAcrossTransitions")(s,100);k=c("Event").listen(window,"resize",y);l=c("Arbiter").subscribe("reflow",y)}j.push(this);u.inform("show",this);setTimeout(s,0)};u.prototype._removeModal=function(){"use strict";__p&&__p();var v=this.getLayerRoot();c("CSS").removeClass(v,"_3qw");c("DOM").remove(this._wash);this._wash=null;t(v,0);var w=this===j[j.length-1];c("removeFromArray")(j,this);if(!j.length){k&&k.remove();k=null;l&&l.unsubscribe();l=null}var x=void 0,y=void 0;if(c("UserAgent").isBrowser("Safari")){x=c("Event").listen(document.documentElement,"mousewheel",c("Event").prevent);y=x.remove.bind(x)}c("setTimeoutAcrossTransitions")(function(){__p&&__p();var z=j[j.length-1];if(z){p(z.getLayerRoot(),w);u.inform("show",z)}else{r();u.inform("hide",this)}if(j.length)setTimeout(s,0);if(c("UserAgent").isBrowser("Safari"))setTimeout(function(){y()},0)}.bind(this),200)};u.prototype.getLayerRoot=function(){"use strict";return this._enabled?this._layer.getRoot():null};u.prototype.getLayerContentRoot=function(){"use strict";return this._enabled?this._layer.getContentRoot():null};u.getTopmostModalLayer=function(){"use strict";return j[j.length-1]};Object.assign(u,c("ArbiterMixin"));f.exports=u}),null);
__d("DialogX",["cx","fbt","Arbiter","CSS","DialogPosition","DOMQuery","Event","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","LayerTogglerContext","ModalLayer","Style","Vector","debounce","getOrCreateDOMID","goURI","shield"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("Layer"));k=j&&j.prototype;l.prototype._configure=function(n,o){"use strict";__p&&__p();k._configure.call(this,n,o);c("CSS").addClass(this.getRoot(),"_4-hy");if(n.autohide)var p=this.subscribe("show",function(){p.unsubscribe();setTimeout(c("shield")(this.hide,this),n.autohide)}.bind(this));if(n.redirectURI)var q=this.subscribe("hide",function(){q.unsubscribe();c("goURI")(n.redirectURI)});this._fixedTopPosition=n.fixedTopPosition;this._ignoreFixedTopInShortViewport=n.ignoreFixedTopInShortViewport};l.prototype._getDefaultBehaviors=function(){"use strict";return k._getDefaultBehaviors.call(this).concat([m,c("ModalLayer"),c("LayerAutoFocus"),c("LayerButtons"),c("LayerFormHooks"),c("LayerTabIsolation"),c("LayerTogglerContext"),c("LayerRefocusOnHide")])};l.prototype._buildWrapper=function(n,o){"use strict";__p&&__p();var p=n.xui?"_4t2a":"_t",q=n.xui?"_59s7":"_1yv";this._innerContent=c("JSXDOM").div(null,o);var r={className:q,role:"dialog"};if(n.labelledBy)r["aria-labelledby"]=n.labelledBy.join(" ");else if(n.label)r["aria-label"]=n.label;else if(n.titleID)r["aria-labelledby"]=n.titleID;else if(n.titleClass){var s=c("DOMQuery").scry(this._innerContent,n.titleClass);if(s.length){var t=c("getOrCreateDOMID")(s[0]);r["aria-labelledby"]=t}else r["aria-label"]=this._getDefaultLabel()}else r["aria-label"]=this._getDefaultLabel();var u={className:p};if(n["data-testid"])u["data-testid"]=n["data-testid"];this._wrapper=c("JSXDOM").div(r,c("JSXDOM").div(u,this._innerContent));this.setWidth(n.width);return c("JSXDOM").div({className:"_10"},this._wrapper)};l.prototype._getDefaultLabel=function(){"use strict";return i._("Contenido del di\u00e1logo")};l.prototype.getContentRoot=function(){"use strict";return this._wrapper};l.prototype.getInnerContent=function(){"use strict";return this._innerContent};l.prototype.updatePosition=function(){"use strict";var n=c("Vector").getElementDimensions(this._wrapper),o=c("DialogPosition").calculateTopMargin(n.x,n.y,this._fixedTopPosition,this._ignoreFixedTopInShortViewport);c("Style").set(this._wrapper,"margin-top",o+"px");this.inform("update_position",{type:"DialogX",top:o})};l.prototype.setWidth=function(n){"use strict";n=Math.floor(n);if(n===this._width)return;this._width=n;c("Style").set(this._wrapper,"width",n+"px")};l.prototype.getWidth=function(){"use strict";return this._width};l.prototype.getFixedTopPosition=function(){"use strict";return this._fixedTopPosition};l.prototype.shouldIgnoreFixedTopInShortViewport=function(){"use strict";return this._ignoreFixedTopInShortViewport};function l(){"use strict";j.apply(this,arguments)}function m(n){"use strict";this._layer=n}m.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(["show","hide"],function(n){if(n==="show"){this._attach();c("Arbiter").inform("layer_shown",{type:"DialogX"})}else{this._detach();c("Arbiter").inform("layer_hidden",{type:"DialogX"})}}.bind(this))};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach()};m.prototype._attach=function(){"use strict";this._layer.updatePosition();this._resize=c("Event").listen(window,"resize",c("debounce")(this._layer.updatePosition.bind(this._layer)))};m.prototype._detach=function(){"use strict";this._resize.remove();this._resize=null};Object.assign(m.prototype,{_subscription:null,_resize:null});f.exports=l}),null);
__d("LayerHideOnEscape",["Event","Keys","LayerHideSources"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("key",this._handle.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._handle=function(i,event){"use strict";if(c("Event").getKeyCode(event)===c("Keys").ESC){this._layer.hide(c("LayerHideSources").ESCAPE);return false}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("AbstractDialog.react",["DialogX","LayerHideOnBlur","LayerHideOnEscape","React","ReactDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i={createSpec:function j(k){__p&&__p();return{displayName:k.displayName,propTypes:{behaviors:h.object,className:h.string,"data-testid":h.string,modal:h.bool,autohide:h.number,width:h.number,label:h.string,labelledBy:h.arrayOf(h.string),titleID:h.string,titleClass:h.string,causalElement:h.object,causalElementRef:h.func,shown:h.bool,layerHideOnBlur:h.bool,hideOnEscape:h.bool,isStrictlyControlled:h.bool,onHide:h.func,onToggle:h.func,fixedTopPosition:h.number},createLayer:function l(m){__p&&__p();var n=this.props.className,o=babelHelpers["extends"]({width:this.props.width,xui:true,autohide:this.props.autohide,classNames:n?n.split(" "):null,label:this.props.label,labelledBy:this.props.labelledBy,isStrictlyControlled:this.props.isStrictlyControlled,titleID:this.props.titleID,titleClass:this.props.titleClass,causalElement:this._getCausalElement(),fixedTopPosition:this.props.fixedTopPosition},k||{});if(this.props["data-testid"])o["data-testid"]=this.props["data-testid"];var p=babelHelpers["extends"]({},k.addedBehaviors,this.props.behaviors);if(this.props.layerHideOnBlur!==false)p.LayerHideOnBlur=c("LayerHideOnBlur");if(this.props.hideOnEscape===true)p.LayerHideOnEscape=c("LayerHideOnEscape");o.addedBehaviors=this.enumerateBehaviors(p);var q=new(c("DialogX"))(o,m);q.conditionShow(this.props.shown);return q},receiveProps:function l(m,n){this.updateBehaviors(n.behaviors,m.behaviors);if(this.layer){this.layer.setCausalElement(this._getCausalElement());this.layer.conditionShow(m.shown);this.layer.setWidth(m.width);m.shown&&this.layer.updatePosition()}},_getCausalElement:function l(){var m;if(this.props.causalElementRef)m=c("ReactDOM").findDOMNode(this.props.causalElementRef());else m=this.props.causalElement;return m}}}};f.exports=i}),null);
__d("XUIDialogButton.react",["cx","React","XUIButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.action,n=(m=="confirm"?"layerConfirm":"")+(m=="cancel"?" layerCancel":"")+(m=="button"?" layerButton":""),o=this.props.href;if(m=="cancel")o="#";else if(m=="button")o=o||"#";return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),href:o,role:"button"}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={action:k.oneOf(["cancel","confirm","button"])};f.exports=l}),null);
__d("XUIDialogOkayButton.react",["cx","fbt","React","XUIDialogButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_2z1w"),action:this.props.action,label:i._("Aceptar")}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={action:l.oneOf(["confirm","cancel","button"]).isRequired};f.exports=m}),null);
__d("LayerFadeOnShow",["Bootloader","Run","UserAgent_DEPRECATED","emptyFunction","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i;c("Run").onAfterLoad(function(){c("Bootloader").loadModules(["css:CSSFade"],c("emptyFunction"),"LayerFadeOnShow")})}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._animate.bind(this))]};h.prototype.disable=function(){"use strict";if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null}};h.prototype._getDuration=function(){"use strict";return 100};h.prototype._animate=function(){"use strict";var i=this._layer.getRoot();c("ifRequired")("CSSFade",function(j){j.show(i,{duration:this._getDuration()})}.bind(this),function(){})};h.forDuration=function(i){var j,k;"use strict";j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){j.apply(this,arguments)}l.prototype._getDuration=c("emptyFunction").thatReturns(i);return l};Object.assign(h.prototype,{_subscriptions:null});f.exports=h}),null);
__d("ReactBrowserEventEmitter",["ReactDOM-fb"],(function a(b,c,d,e,f,g){"use strict";var h=c("ReactDOM-fb").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;f.exports=h.ReactBrowserEventEmitter}),null);
__d("ReactLayerCommon",["invariant","React","ReactBrowserEventEmitter","ReactDOM","SubscriptionsHandler","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=function k(n){n.isPropagationStopped=c("emptyFunction").thatReturnsTrue};i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",{onClick:k,onBlur:k,onDoubleClick:k,onFocus:k,onKeyDown:k,onKeyPress:k,onKeyUp:k,onMouseDown:k,onMouseMove:k,onMouseUp:k},this.props.children)};function l(){i.apply(this,arguments)}var m={makeInitialSubscriptions:function n(o,p){__p&&__p();var q=new(c("SubscriptionsHandler"))();m.layerSubscribe(o,q,"show",function(){return p.onToggle&&p.onToggle(true)});m.layerSubscribe(o,q,"hide",function(){return p.onToggle&&p.onToggle(false)});m.layerSubscribe(o,q,"blur",function(r,s){return p.onBlur&&p.onBlur(s)});m.layerSubscribe(o,q,"runhide",function(r,s){return p.onHide&&(p.includeHideSource?p.onHide(s):p.onHide())});return q},layerSubscribe:function n(o,p,q,r){var s=o.subscribe||o.addListener;p.addSubscriptions(s.call(o,q,function(q,t){c("ReactBrowserEventEmitter").isEnabled()&&r(q,t)}))},render:function n(o,p){var q=c("ReactDOM").createPortal(c("React").createElement(l,null,o),p);if(q===undefined&&c("ReactDOM").createPortal._isMockFunction)q=null;return q},diffBehaviors:function n(o,p,q){__p&&__p();var r;for(r in o)if(o[r]&&!p[r])q.disableBehavior(o[r]);for(r in p){var s=o[r],t=p[r];if(s&&t){s===t||h(0);continue}s&&q.disableBehavior(s);t&&q.enableBehavior(t)}}};f.exports=m}),null);
__d("ReactLayer",["invariant","React","ReactDOM","ReactLayerCommon","emptyFunction","getObjectValues"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={componentWillMount:function k(){this._layerContainer=document.createElement("div")},componentDidMount:function k(){this.layer=this.createLayer(this._layerContainer);this.layer||h(0);this.layerSubscriptions=c("ReactLayerCommon").makeInitialSubscriptions(this.layer,this.props);this._resetBehaviors()},componentDidUpdate:function k(l){this.receiveProps(this.props,l)},componentWillUnmount:function k(){this._layerContainer=null;if(this.layerSubscriptions){this.layerSubscriptions.release();this.layerSubscriptions=null}if(this.layer){this.layer.destroy();this.layer=null}},render:function k(){return c("ReactLayerCommon").render(this.props.children,this._layerContainer)},enumerateBehaviors:function k(l){l=this.getEffectiveBehaviors(l);return c("getObjectValues")(l).filter(c("emptyFunction").thatReturnsArgument)},_resetBehaviors:function k(){this._diffBehaviors({},this.props.behaviors)},updateBehaviors:function k(l,m){this._diffBehaviors(l,m)},_diffBehaviors:function k(l,m){l=this.getEffectiveBehaviors(l);m=this.getEffectiveBehaviors(m);c("ReactLayerCommon").diffBehaviors(l,m,this.layer)},getEffectiveBehaviors:function k(l){if(!this.getDefaultEnabledBehaviors)return l||{};return babelHelpers["extends"]({},this.getDefaultEnabledBehaviors(),l)},layerSubscribe:function k(l,m){c("ReactLayerCommon").layerSubscribe(this.layer,this.layerSubscriptions,l,m)}},j={createClass:function k(l){return c("React").createClass({mixins:[i,l]})}};f.exports=j}),null);
__d("XUIDialog.react",["csx","AbstractDialog.react","LayerFadeOnShow","ReactLayer"],(function a(b,c,d,e,f,g,h){var i=c("ReactLayer").createClass(c("AbstractDialog.react").createSpec({displayName:"XUIDialog",addedBehaviors:{LayerFadeOnShow:c("LayerFadeOnShow")},titleClass:"._52c9"}));f.exports=i}),null);
__d("XUIDialogBody.react",["cx","React","joinClasses","XUIText.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m="_4-i2"+(!this.props.useCustomPadding?" _pig":"");return c("React").createElement(c("XUIText.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,m),display:"block",size:this.props.fontSize}),this.props.children)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={fontSize:k.oneOf(["medium","inherit"]),useCustomPadding:k.bool};l.defaultProps={fontSize:"medium"};f.exports=l}),null);
__d("XUIOverlayFooter.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_5lnf uiOverlayFooter")}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("XUIDialogFooter.react",["cx","LeftRight.react","React","XUIOverlayFooter.react","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m="_5a8u"+(this.props.fullBleedBorder?" _27qq":""),n=this.props,o=n.children,p=n.leftContent,q=babelHelpers.objectWithoutProperties(n,["children","leftContent"]);return c("React").createElement(c("XUIOverlayFooter.react"),babelHelpers["extends"]({},q,{className:c("joinClasses")(this.props.className,m)}),c("React").createElement(c("XUIText.react"),{display:"block",fontSize:this.props.fontSize},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null,p),c("React").createElement("div",null,o))))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={fontSize:k.oneOf(["medium","inherit"]),fullBleedBorder:k.bool,leftContent:k.object};l.defaultProps={fontSize:"medium"};f.exports=l}),null);
__d("XUIDialogTitle.react",["cx","fbt","LeftRight.react","React","XUICloseButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=null,o=this.props,p=o.closeButtonText,q=o.showCloseButton,r=babelHelpers.objectWithoutProperties(o,["closeButtonText","showCloseButton"]);if(q)n=c("React").createElement(c("XUICloseButton.react"),{label:p,className:"layerCancel _51-t"});var s=c("React").Children.toArray(this.props.children);return c("React").createElement("div",babelHelpers["extends"]({},r,{className:c("joinClasses")(this.props.className,"_4-i0"+(q?" _2gb3":""))}),c("React").createElement(c("LeftRight.react"),null,c("React").createElement("h3",{className:"_52c9","data-hover":"tooltip","data-tooltip-display":"overflow"},s[0]),c("React").createElement("div",{className:"_51-u"},s.slice(1),n)))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={closeButtonText:l.oneOfType([l.node,l.string]),showCloseButton:l.bool};m.defaultProps={closeButtonText:i._("Cerrar"),showCloseButton:true};f.exports=m}),null);
__d("FBStoriesActionTypes",[],(function a(b,c,d,e,f,g){var h=Object.freeze({LOAD:"FB_STORIES.LOAD",LOADING:"FB_STORIES.LOADING",LOADED:"FB_STORIES.LOADED",LOADED_ERROR:"FB_STORIES.LOADED_ERROR",VIEWER_LIST_LOADED_FOR_THREAD:"FB_STORIES.VIEWER_LIST_LOADED_FOR_THREAD",RESET_LOCAL_SEEN_HISTORY:"FB_STORIES.RESET_LOCAL_SEEN_HISTORY",SELECTED_BUCKET_IDX_CHANGED:"FB_STORIES.SELECTED_BUCKET_IDX_CHANGED",SET_ALL_BUCKETS_VIEWED:"FB_STORIES.SET_ALL_BUCKETS_VIEWED",SET_UNSEEN_MODE:"FB_STORIES.SET_UNSEEN_MODE",SELECTED_THREAD_IDX_CHANGED:"FB_STORIES.SELECTED_THREAD_IDX_CHANGED",SUBSCRIPTION_BUCKET_UPDATE:"FB_STORIES.SUBSCRIPTION_BUCKET_UPDATE",UPDATE_THREAD_SEEN_OPTIMISTIC:"FB_STORIES.UPDATE_THREAD_SEEN_OPTIMISTIC",UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC:"FB_STORIES.UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC",DELETE_THREAD_FROM_BUCKET:"FB_STORIES.DELETE_THREAD_FROM_BUCKET",REMOVE_BUCKET:"FB_STORIES.REMOVE_BUCKET",SET_SATP_NATIVE_RENDER:"FB_STORIES.SET_SATP_NATIVE_RENDER",REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET:"FB_STORIES.REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET",SET_IS_COMMERCIAL_BREAK_RUNNING:"FB_STORIES.SET_IS_COMMERCIAL_BREAK_RUNNING",UNSELECT_BUCKET:"FBSTORIES.UNSELECT_BUCKET",SET_ENABLE_VIDEO_PERF_TESTS:"FB_STORIES.SET_ENABLE_VIDEO_PERF_TESTS",SET_VIEWER_OPEN:"FB_STORIES.SET_VIEWER_OPEN"});f.exports=h}),null);
__d("FBStoriesLoggingConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={EVENT_STORY:"event",FOLLOWEE_STORY:"followee",FRIEND_STORY:"friend",GROUP_STORY:"group",MISSING_STORY_DATA:"missingStoryData",PAGE_STORY:"page",SELF_STORY:"self",STORY_PROMOTION:"promotion",ACTION_OPEN_MEDIA:"open_media",ACTION_DELETE_MEDIA:"delete_media_attempted",ACTION_SEND_REPLY_ATTEMPT:"attempt_to_send_reply",ACTION_SEND_REPLY_SUCCESS:"mark_reply_sent",ACTION_SEND_REPLY_FAILURE:"reply_sent_failure",ACTION_OPEN_SEEN_SUMMARY:"open_seen_summary",ACTION_OPEN_STORY:"open_story",ACTION_CLOSE_STORY:"close_story",ACTION_TRAY_LOAD:"story_tray_load",SOURCE_OPEN_FROM_STORY_HEAD:"openFromStoryHead",SOURCE_OPEN_FROM_PRIOR_STORY:"openFromPriorStory",SOURCE_CLOSE_FROM_MODAL:"closeFromClickingOnModal",SOURCE_CLOSE_FROM_MODAL_CLOSE_BUTTON:"closeFromClickingOnModalCloseButton",SOURCE_CLOSE_FROM_LAST_STORY_FINISHING:"closeFromLastStoryFinishing",INTERACTIONS:{CATEGORY_KEY:"fb_stories_tray",TOTAL_INIT:"init_agg",DATA_LOADING:"graphql_data_loading",TRAY_RENDER:"react_story_tray_render",VIEWER_OPEN:"viewer_open"}};f.exports=h}),null);
__d("FBStoriesThreadHelper",["CameraPostMediaHelper","CameraPostThreadOwnerHelper","CameraPostTypes","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return((k=j)!=null?k.id:k)||""},getCameraPostType:function i(j){var k;return((k=j)!=null?k.camera_post_type:k)||c("CameraPostTypes").STORY},getCameraPostSource:function i(j){var k;return((k=j)!=null?k.post_source:k)||"CAMERA_SYSTEM"},isSeenByViewer:function i(j){var k;return!!((k=j)!=null?k.is_seen_by_viewer:k)},setIsSeenByViewer:function i(j,k){if(!j)return;j.is_seen_by_viewer=k},getLatestMessageID:function i(j){var k;return(k=j)!=null?(k=k.latest_message)!=null?k.id:k:k},getStatus:function i(j){var k;return(k=j)!=null?k.thread_status:k},getTime:function i(j){var k;return((k=j)!=null?k.time:k)||0},getExpiryTime:function i(j){var k;return((k=j)!=null?k.thread_expiry_time:k)||0},isExpired:function i(j){var k=h.getExpiryTime(j);if(!k)return false;return k<Date.now()/1e3},getFollowersSeenCount:function i(j){var k;return((k=j)!=null?k.followers_seen_count:k)||0},setFollowersSeenCount:function i(j,k){if(!j)return;j.followers_seen_count=k},getFriendsSeenCount:function i(j){var k;return((k=j)!=null?k.friends_seen_count:k)||0},setFriendsSeenCount:function i(j,k){if(!j)return;j.friends_seen_count=k},getSeenReceiptsLastSeenTime:function i(j){var k;return((k=j)!=null?k.seen_receipts_last_seen_time:k)||0},setSeenReceiptsLastSeenTime:function i(j,k){if(!j)return;j.seen_receipts_last_seen_time=k},getSeenReceiptsUnseenCount:function i(j){var k;return((k=j)!=null?k.seen_receipts_unseen_count:k)||0},setSeenReceiptsUnseenCount:function i(j,k){if(!j)return;j.seen_receipts_unseen_count=k},getOwner:function i(j){var k;return(k=j)!=null?k.camera_post_thread_owner:k},getOwnerId:function i(j){return c("CameraPostThreadOwnerHelper").getId(h.getOwner(j))},isViewerFriendOfOwner:function i(j){return c("CameraPostThreadOwnerHelper").getIsViewerFriend(h.getOwner(j))},getViewers:function i(j){var k;return((k=j)!=null?(k=k.story_thread_viewers)!=null?k.edges:k:k)||[]},setViewers:function i(j,k){if(!j)return;j.story_thread_viewers={edges:k}},getRootMessage:function i(j){var k;return(k=j)!=null?k.root_message:k},getMedia:function i(j){var k;return(k=h.getRootMessage(j))!=null?k.message_media:k},getMediaId:function i(j){return c("CameraPostMediaHelper").getId(h.getMedia(j))},getMediaType:function i(j){return c("CameraPostMediaHelper").getType(h.getMedia(j))},getMediaPreviewImage:function i(j){return c("CameraPostMediaHelper").getPreviewImage(h.getMedia(j))},getWWWTextFormatMetadata:function i(j){var k;return((k=h.getRootMessage(j))!=null?k.www_text_format_metadata:k)||null},getMessageText:function i(j){var k;return((k=h.getRootMessage(j))!=null?k.message_text:k)||""},getStoryViewerId:function i(j){var k;return(k=j)!=null?(k=k.node)!=null?k.id:k:k},getStoryViewerSeenTime:function i(j){var k;return((k=j)!=null?k.seen_time:k)||0}};f.exports=h}),null);
__d("FBStoriesBucketHelper",["CameraPostBucketOwnerHelper","CameraPostTypes","CameraPostTypesHelper","CurrentUser","FBStoriesLoggingConstants","FBStoriesThreadHelper","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getUnseenThread:function j(k){var l=i.getThreads(k);return l[Math.max(0,i.getUnseenThreadIndex(k))]}},i={isUserBucket:function j(k){return i.getOwnerId(k)===c("CurrentUser").getID()},getLiveVideo:function j(k){var l;return(l=k)!=null?l.live_video:l},getMediaIDForLiveBucket:function j(k){var l;return(l=k)!=null?(l=l.live_video)!=null?l.id:l:l},isLive:function j(k){var l;return!!((l=i.getLiveVideo(k))!=null?l.id:l)},setLiveVideo:function j(k,l){if(!k)return;k.live_video=l},hasData:function j(k){if(!k)return false;return i.getThreads(k).length>0},getThreads:function j(k){var l,m=((l=k)!=null?(l=l.threads)!=null?l.nodes:l:l)||[];return m.filter(function(n){return c("FBStoriesThreadHelper").getStatus(n)==="PUBLISHED"&&c("FBStoriesThreadHelper").getMedia(n)!==null&&!c("FBStoriesThreadHelper").isExpired(n)})},getThreadIDs:function j(k){var l=i.getThreads(k);return l.map(function(m){var n;return((n=m)!=null?n.id:n)||""})},setThreads:function j(k,l){if(!k)return;k.threads={nodes:l}},getUnseenThreadIndex:function j(k){var l=i.getThreads(k),m=i.isUserBucket(k);return m?l.findIndex(function(n){return c("FBStoriesThreadHelper").getSeenReceiptsUnseenCount(n)>0}):l.findIndex(function(n){return!c("FBStoriesThreadHelper").isSeenByViewer(n)})},getPreviewImage:function j(k){var l=h.getUnseenThread(k);return c("FBStoriesThreadHelper").getMediaPreviewImage(l)},getId:function j(k){var l;return((l=k)!=null?l.id:l)||""},getCameraPostType:function j(k){var l;return((l=k)!=null?l.camera_post_type:l)||c("CameraPostTypes").STORY},getUnseenCount:function j(k){var l;return((l=k)!=null?l.unseen_count:l)||0},setUnseenCount:function j(k,l){if(!k)return;k.unseen_count=l},hasLiveVideoEnded:function j(k){var l;return!!((l=k)!=null?l.has_live_video_ended:l)},setHasLiveVideoEnded:function j(k,l){if(!k)return;k.has_live_video_ended=l},getOwner:function j(k){var l;return((l=k)!=null?l.camera_post_bucket_owner:l)||{id:null,name:null,short_name:null,gender:null,is_viewer_friend:false,profile_picture:null,subscribe_status:null}},getOwnerId:function j(k){return c("CameraPostBucketOwnerHelper").getId(i.getOwner(k))},getOwnerGender:function j(k){return c("CameraPostBucketOwnerHelper").getGender(i.getOwner(k))},isViewerEventHost:function j(k){return c("CameraPostBucketOwnerHelper").isEventHost(i.getOwner(k))},isViewerPageContentAdmin:function j(k){return c("CameraPostBucketOwnerHelper").isViewerPageContentAdmin(i.getOwner(k))},isViewerFriendOfOwner:function j(k){return c("CameraPostBucketOwnerHelper").isViewerFriend(i.getOwner(k))},getOwnerSubscribeStatus:function j(k){return c("CameraPostBucketOwnerHelper").getSubscribeStatus(i.getOwner(k))},getOwnerProfilePictureUri:function j(k){return c("CameraPostBucketOwnerHelper").getProfilePictureUri(i.getOwner(k))},getOwnerCoverPhotoUri:function j(k){return c("CameraPostBucketOwnerHelper").getCoverPhotoUri(i.getOwner(k))},getOwnerName:function j(k){var l=arguments.length<=1||arguments[1]===undefined?false:arguments[1],m=i.getCameraPostType(k),n=i.getOwner(k);if(!l&&c("CameraPostTypesHelper").isStory(m)&&n.short_name)return n.short_name;else return n.name},getLatestThreadCreationTime:function j(k){var l;if(!k)return null;return(l=k)!=null?l.latest_thread_creation_time:l},getLoggingType:function j(k){__p&&__p();if(!k)return c("FBStoriesLoggingConstants").MISSING_STORY_DATA;if(i.isUserBucket(k))return c("FBStoriesLoggingConstants").SELF_STORY;var l=i.getCameraPostType(k);if(c("CameraPostTypesHelper").isPageStory(l))return c("FBStoriesLoggingConstants").PAGE_STORY;if(c("CameraPostTypesHelper").isGroupStory(l))return c("FBStoriesLoggingConstants").GROUP_STORY;if(c("CameraPostTypesHelper").isEventStory(l))return c("FBStoriesLoggingConstants").EVENT_STORY;if(c("CameraPostTypesHelper").isPromotionStory(l))return c("FBStoriesLoggingConstants").STORY_PROMOTION;if(!i.isViewerFriendOfOwner(k))return c("FBStoriesLoggingConstants").FOLLOWEE_STORY;return c("FBStoriesLoggingConstants").FRIEND_STORY},getDefaultBucket:function j(){return{id:null,camera_post_type:null,unseen_count:0,ranking:null,live_video:null,camera_post_bucket_owner:null,threads:null,latest_thread_creation_time:null}}};f.exports=i}),null);
__d("friendsBucketSorter",["CameraPostTypesHelper","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(q){__p&&__p();return function r(s,t){__p&&__p();var u=s.live_video&&s.live_video.id,v=t.live_video&&t.live_video.id;if(u!==v)return u?-1:1;if(i(s,t))return k(s)?-1:1;if(j(s,t))return l(s)?-1:1;if(m(s,t,q))return n(s,q)?-1:1;return p(s)>=p(t)?-1:1}}function i(q,r){return o(q,r,k)}function j(q,r){return o(q,r,l)}function k(q){return q.unseen_count>0}function l(q){return c("CameraPostTypesHelper").isEventStory(q.camera_post_type)}function m(q,r,s){return n(q,s)!==n(r,s)}function n(q,r){var s,t=((s=q)!=null?(s=s.threads)!=null?s.nodes:s:s)||[];for(var u=0;u<t.length;u++){var v,w=(v=t[u])!=null?(v=v.camera_post_thread_owner)!=null?v.id:v:v;if(w===r)return true}return false}function o(q,r,s){var t=s(q),u=s(r);return t!=u}function p(q){var r;return((r=q)!=null?(r=r.ranking)!=null?r.score:r:r)||0}f.exports=h}),null);
__d("FBStoriesDataHelper",["CameraPostTypesHelper","FBStoriesBucketHelper","SubscribeStatuses","friendsBucketSorter","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getBucketsDataFromLoadedObject:function i(j){__p&&__p();var k=h.getUserDataNodesFromLoadedObject(j),l=k[0],m=h.getUserInfoFromLoadedObject(j),n=h.getFriendsBucketDataFromLoadedObject(j);n=n.reduce(function(o,p){__p&&__p();var q=c("FBStoriesBucketHelper").getThreads(p),r=q&&q.length>0,s=c("FBStoriesBucketHelper").getCameraPostType(p),t=c("CameraPostTypesHelper").isStoryNux(s),u=c("CameraPostTypesHelper").isEventStory(s),v=c("CameraPostTypesHelper").isGroupStory(s),w=c("FBStoriesBucketHelper").getOwnerSubscribeStatus(p)===c("SubscribeStatuses").IS_SUBSCRIBED;if(t)return o;if(!r){if(c("FBStoriesBucketHelper").isLive(p))return o.concat([p]);return o}if(w||u||v)return o.concat([p]);return o},[]);n.sort(c("friendsBucketSorter")(m.userID));return{userInfo:m,userBucketData:l,friendsBucketData:n}},getFriendsBucketDataFromLoadedObject:function i(j){var k;return((k=j)!=null?(k=k.me)!=null?(k=k.friends_stories_buckets)!=null?k.nodes:k:k:k)||[]},getUserDataNodesFromLoadedObject:function i(j){var k;return((k=j)!=null?(k=k.me)!=null?(k=k.story_bucket)!=null?k.nodes:k:k:k)||[]},getUserInfoFromLoadedObject:function i(j){var k,l,m,n;return{userName:(k=j)!=null?(k=k.me)!=null?k.name:k:k,userID:(l=j)!=null?(l=l.me)!=null?l.id:l:l,userGender:(m=j)!=null?(m=m.me)!=null?m.gender:m:m,userProfilePic:(n=j)!=null?(n=n.me)!=null?n.profile_picture:n:n}},getFriendsDataWithEndedLiveBucket:function i(j,k,l){__p&&__p();if(!k||l||!c("FBStoriesBucketHelper").isLive(k))return j;var m=c("FBStoriesBucketHelper").getId(k),n=false;j=j.reduce(function(o,p){__p&&__p();if(c("FBStoriesBucketHelper").getId(p)===m){n=true;var q=!c("FBStoriesBucketHelper").isLive(p);if(k&&q){c("FBStoriesBucketHelper").setLiveVideo(p,k.live_video);c("FBStoriesBucketHelper").setHasLiveVideoEnded(p,true)}}o.push(p);return o},[]);if(!n){c("FBStoriesBucketHelper").setHasLiveVideoEnded(k,true);j=[k].concat(j)}return j}};f.exports=h}),null);
__d("FBStoriesDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("WebGraphQLLegacyHelper",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();f.exports={getURI:function i(j){var k=j.controller,l=j.docID,m=j.queryID,n=j.variables;l!=m&&(l||m)!=null||h(0);var o=k.getURIBuilder();if(m)o.setFBID("query_id",m);else o.setFBID("doc_id",l);if(n)o.setString("variables",JSON.stringify(n));return o.getURI()}}}),null);
__d("XWebGraphQLQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/webgraphql/query/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"}})}),null);
__d("WebGraphQLQueryBase",["invariant","WebGraphQLLegacyHelper","XWebGraphQLQueryController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){this.$WebGraphQLQueryBase1=j}i.prototype.__getVariables=function(){return this.$WebGraphQLQueryBase1};i.prototype.__getDocID=function(){return this.constructor.__getDocID()};i.__getController=function(){return c("XWebGraphQLQueryController")};i.__getDocID=function(){h(0)};i.getURI=function(j){return c("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),docID:this.__getDocID(),variables:j})};i.getLegacyURI=function(j){return c("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),queryID:this.getQueryID(),variables:j})};i.getQueryID=function(){h(0)};f.exports=i}),null);
__d("FBStoriesBucketsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1397624353698272"};j.getQueryID=function(){"use strict";return"159714964643797"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XWebGraphQLMutationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"}})}),null);
__d("base62",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function i(j){if(!j)return"0";var k="";while(j>0){k=h[j%62]+k;j=Math.floor(j/62)}return k}f.exports=i}),null);
__d("WebGraphQLMutationBase",["invariant","CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=0;function j(k){this.$WebGraphQLMutationBase1=k}j.prototype.__getVariables=function(){return this.$WebGraphQLMutationBase1};j.prototype.__getDocID=function(){return this.constructor.__getDocID()};j.__getController=function(){return c("XWebGraphQLMutationController")};j.__getDocID=function(){h(0)};j.getURI=function(k){return c("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),docID:this.__getDocID(),variables:{data:babelHelpers["extends"]({client_mutation_id:c("base62")(i++),actor_id:c("CurrentUser").getID()},k)}})};f.exports=j}),null);
__d("FBStoriesDeleteMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1340045906066120"};j.getQueryID=function(){"use strict";return"967072946766012"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1386522808128715"};j.getQueryID=function(){"use strict";return"1384057201673076"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesTraySubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1507998355922018",queryID:"1544206585695342"})}),null);
__d("FBStoriesTraySubscription",["BaseGraphQLSubscription","FBStoriesTraySubscriptionWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/stories_tray_subscribe/user_id_"+j},_getQueryID:function i(){return c("FBStoriesTraySubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),user_id:j})}},_getSubscriptionCallName:function i(){return"stories_tray_subscribe"}});f.exports=h}),null);
__d("FBStoriesViewerBucketViewersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1423142174450576"};j.getQueryID=function(){"use strict";return"1524547297637879"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XGraphQLBatchAPIController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/api/graphqlbatch/",{queries:{type:"String"},batch_name:{type:"String"},scheduler:{type:"Enum",enumType:1},shared_params:{type:"String"}})}),null);
__d("createChunkedResponseParser",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="\r\n",j=2;function k(l,m){__p&&__p();var n=0,o=function o(p,q,r){__p&&__p();if(m){p=m(p);p==null||typeof p==="string"||h(0)}if(p){var s=p.length;while(n<s){var t=p.indexOf(i,n);if(t<0)if(r)t=s;else break;var u=p.slice(n,t);n+=u.length+j;l(u,q,r&&n>=s)}}else if(r)l("",q,true)};o.parseStreaming=true;return o}f.exports=k}),null);
__d("WebGraphQL",["ActorURI","Deferred","WebGraphQLConfig","XGraphQLBatchAPIController","XHRRequest","createChunkedResponseParser","getAsyncParams","getSameOriginTransport"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.getURIBuilder().getURI(),k={exec:function l(m,n){return k.execAll([m],n)[0]},execAll:function l(m,n){__p&&__p();var o={},p={},q=m.map(function(u,v){var w="o"+v;o[w]={doc_id:u.__getDocID(),query_params:u.__getVariables()};return p[w]=new(c("Deferred"))()}),r=babelHelpers["extends"]({},c("getAsyncParams")("POST"));if(n&&n.actorID!=null)r[c("ActorURI").PARAMETER_ACTOR]=n.actorID;var s=n&&n.batchName?{batch_name:n.batchName}:{},t=new(c("XHRRequest"))(j).setMethod("POST").setTransportBuilder(c("getSameOriginTransport")).setRequestHeader("Content-Type","application/x-www-form-urlencoded").setData(babelHelpers["extends"]({},s,r,{queries:JSON.stringify(o)})).setResponseHandler(c("createChunkedResponseParser")(function(u,v,w){__p&&__p();var x=JSON.parse(u);Object.keys(x).forEach(function(y){var z=p[y];if(z){var A=x[y];if(A.errors)z.reject(A);else if(A.data)z.resolve(A.data);else z.reject({data:{},errors:[{message:"Unexpected response received from server.",severity:"CRITICAL",response:A}]})}});if(w)Object.keys(p).forEach(function(y){if(!p[y].isSettled())p[y].reject({data:{},errors:[{message:"No response received from server.",severity:"CRITICAL"}]})})})).setTimeout(c("WebGraphQLConfig").timeout).setTimeoutHandler(function(){Object.keys(p).forEach(function(u){if(!p[u].isSettled())p[u].reject({data:{},errors:[{message:"Request timed out.",severity:"CRITICAL"}]})})}).setErrorHandler(function(u){Object.keys(p).forEach(function(v){if(!p[v].isSettled())p[v].reject({data:{},errors:[{message:u&&u.message||"Transport error.",severity:"CRITICAL",error:u}]})})});t.send();return q},__forController:h};return k}f.exports=h(c("XGraphQLBatchAPIController"))}),null);
__d("FBStoriesGraphQLAPI",["WebGraphQL","FBStoriesBucketsQueryWebGraphQLQuery","FBStoriesViewerBucketViewersQueryWebGraphQLQuery","FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation","FBStoriesTraySubscription","FBStoriesDeleteMutationWebGraphQLMutation","CurrentUser","uniqueID"],(function a(b,c,d,e,f,g){"use strict";f.exports={load:function h(){return c("WebGraphQL").exec(new(c("FBStoriesBucketsQueryWebGraphQLQuery"))())},loadViewerListForThread:function h(i){return c("WebGraphQL").exec(new(c("FBStoriesViewerBucketViewersQueryWebGraphQLQuery"))({threadId:i}))},subscribeToTrayChanges:function h(i){c("FBStoriesTraySubscription").subscribe(c("CurrentUser").getID(),i)},updateThreadSeenReciept:function h(i){var j={client_mutation_id:c("uniqueID")(),actor_id:c("CurrentUser").getID(),thread_id:i};return c("WebGraphQL").exec(new(c("FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation"))({input:j}))},deleteStory:function h(i,j){return c("WebGraphQL").exec(new(c("FBStoriesDeleteMutationWebGraphQLMutation"))({input:{client_mutation_id:c("uniqueID")(),actor_id:i,story_thread_ids:[j]}}))}}}),null);
__d("BackstageMediaType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIVE:"live",PHOTO:"photo",VIDEO:"video",WAS_LIVE:"was_live",UNKNOWN:"unknown"})}),null);
__d("FBStoriesLiveVideoActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({SET_UI_COMPONENTS:null,REMOVE_UI_COMPONENTS:null,LIVE_BUCKET_LOADED:null});f.exports=h}),null);
__d("LoadObjectOperations",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({CREATING:null,DELETING:null,LOADING:null,UPDATING:null});f.exports=h}),null);
__d("immutable",[],(function aa(ba,ca,da,ea,fa,ga){(function(ba,a){typeof ga==="object"&&typeof fa!=="undefined"?fa.exports=a():typeof define==="function"&&define.amd?define(a):ba.Immutable=a()})(this,function(){"use strict";var a=Array.prototype.slice;function b(L,M){if(M)L.prototype=Object.create(M.prototype);L.prototype.constructor=L}var ha="delete",c=5,d=1<<c,e=d-1,f={},ia={value:false},ja={value:false};function ka(L){L.value=false;return L}function g(L){L&&(L.value=true)}function la(){}function ma(L,M){M=M||0;var N=Math.max(0,L.length-M),O=new Array(N);for(var P=0;P<N;P++)O[P]=L[P+M];return O}function na(L){if(L.size===undefined)L.size=L.__iterate(pa);return L.size}function oa(L,M){return M>=0?+M:na(L)+ +M}function pa(){return true}function qa(L,M,N){return(L===0||N!==undefined&&L<=-N)&&(M===undefined||N!==undefined&&M>=N)}function ra(L,M){return ta(L,M,0)}function sa(L,M){return ta(L,M,M)}function ta(L,M,N){return L===undefined?N:L<0?Math.max(0,M+L):M===undefined?L:Math.min(M,L)}function h(L){return k(L)?L:r(L)}b(i,h);function i(L){return l(L)?L:s(L)}b(ua,h);function ua(L){return m(L)?L:t(L)}b(j,h);function j(L){return k(L)&&!va(L)?L:La(L)}function k(L){return!!(L&&L[xa])}function l(L){return!!(L&&L[ya])}function m(L){return!!(L&&L[za])}function va(L){return l(L)||m(L)}function wa(L){return!!(L&&L[Aa])}h.isIterable=k;h.isKeyed=l;h.isIndexed=m;h.isAssociative=va;h.isOrdered=wa;h.Keyed=i;h.Indexed=ua;h.Set=j;var xa="@@__IMMUTABLE_ITERABLE__@@",ya="@@__IMMUTABLE_KEYED__@@",za="@@__IMMUTABLE_INDEXED__@@",Aa="@@__IMMUTABLE_ORDERED__@@",Ba=0,n=1,Ca=2,Da=typeof Symbol==="function"&&Symbol.iterator,Ea="@@iterator",Fa=Da||Ea;function o(L){this.next=L}o.prototype.toString=function(){return"[Iterator]"};o.KEYS=Ba;o.VALUES=n;o.ENTRIES=Ca;o.prototype.inspect=o.prototype.toSource=function(){return this.toString()};o.prototype[Fa]=function(){return this};function p(L,M,N,O){var P=L===0?M:L===1?N:[M,N];O?O.value=P:O={value:P,done:false};return O}function q(){return{value:undefined,done:true}}function Ga(L){return!!Ja(L)}function Ha(L){return L&&typeof L.next==="function"}function Ia(L){var M=Ja(L);return M&&M.call(L)}function Ja(L){var M=L&&(Da&&L[Da]||L[Ea]);if(typeof M==="function")return M}function Ka(L){return L&&typeof L.length==="number"}b(r,h);function r(L){return L===null||L===undefined?Ta():k(L)?L.toSeq():Wa(L)}r.of=function(){return r(arguments)};r.prototype.toSeq=function(){return this};r.prototype.toString=function(){return this.__toString("Seq {","}")};r.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length}return this};r.prototype.__iterate=function(L,M){return Ya(this,L,M,true)};r.prototype.__iterator=function(L,M){return Za(this,L,M,true)};b(s,r);function s(L){return L===null||L===undefined?Ta().toKeyedSeq():k(L)?l(L)?L.toSeq():L.fromEntrySeq():Ua(L)}s.prototype.toKeyedSeq=function(){return this};b(t,r);function t(L){return L===null||L===undefined?Ta():!k(L)?Va(L):l(L)?L.entrySeq():L.toIndexedSeq()}t.of=function(){return t(arguments)};t.prototype.toIndexedSeq=function(){return this};t.prototype.toString=function(){return this.__toString("Seq [","]")};t.prototype.__iterate=function(L,M){return Ya(this,L,M,false)};t.prototype.__iterator=function(L,M){return Za(this,L,M,false)};b(La,r);function La(L){return(L===null||L===undefined?Ta():!k(L)?Va(L):l(L)?L.entrySeq():L).toSetSeq()}La.of=function(){return La(arguments)};La.prototype.toSetSeq=function(){return this};r.isSeq=Ra;r.Keyed=s;r.Set=La;r.Indexed=t;var Ma="@@__IMMUTABLE_SEQ__@@";r.prototype[Ma]=true;b(Na,t);function Na(L){this._array=L;this.size=L.length}Na.prototype.get=function(L,M){return this.has(L)?this._array[oa(this,L)]:M};Na.prototype.__iterate=function(L,M){var N=this._array,O=N.length-1;for(var P=0;P<=O;P++)if(L(N[M?O-P:P],P,this)===false)return P+1;return P};Na.prototype.__iterator=function(L,M){var N=this._array,O=N.length-1,P=0;return new o(function(){return P>O?q():p(L,P,N[M?O-P++:P++])})};b(Oa,s);function Oa(L){var M=Object.keys(L);this._object=L;this._keys=M;this.size=M.length}Oa.prototype.get=function(L,M){if(M!==undefined&&!this.has(L))return M;return this._object[L]};Oa.prototype.has=function(L){return this._object.hasOwnProperty(L)};Oa.prototype.__iterate=function(L,M){var N=this._object,O=this._keys,P=O.length-1;for(var Q=0;Q<=P;Q++){var R=O[M?P-Q:Q];if(L(N[R],R,this)===false)return Q+1}return Q};Oa.prototype.__iterator=function(L,M){var N=this._object,O=this._keys,P=O.length-1,Q=0;return new o(function(){var R=O[M?P-Q:Q];return Q++>P?q():p(L,R,N[R])})};Oa.prototype[Aa]=true;b(Pa,t);function Pa(L){this._iterable=L;this.size=L.length||L.size}Pa.prototype.__iterateUncached=function(L,M){if(M)return this.cacheResult().__iterate(L,M);var N=this._iterable,O=Ia(N),P=0;if(Ha(O)){var Q;while(!(Q=O.next()).done)if(L(Q.value,P++,this)===false)break}return P};Pa.prototype.__iteratorUncached=function(L,M){if(M)return this.cacheResult().__iterator(L,M);var N=this._iterable,O=Ia(N);if(!Ha(O))return new o(q);var P=0;return new o(function(){var Q=O.next();return Q.done?Q:p(L,P++,Q.value)})};b(Qa,t);function Qa(L){this._iterator=L;this._iteratorCache=[]}Qa.prototype.__iterateUncached=function(L,M){if(M)return this.cacheResult().__iterate(L,M);var N=this._iterator,O=this._iteratorCache,P=0;while(P<O.length)if(L(O[P],P++,this)===false)return P;var Q;while(!(Q=N.next()).done){var R=Q.value;O[P]=R;if(L(R,P++,this)===false)break}return P};Qa.prototype.__iteratorUncached=function(L,M){if(M)return this.cacheResult().__iterator(L,M);var N=this._iterator,O=this._iteratorCache,P=0;return new o(function(){if(P>=O.length){var Q=N.next();if(Q.done)return Q;O[P]=Q.value}return p(L,P,O[P++])})};function Ra(L){return!!(L&&L[Ma])}var Sa;function Ta(){return Sa||(Sa=new Na([]))}function Ua(L){var M=Array.isArray(L)?new Na(L).fromEntrySeq():Ha(L)?new Qa(L).fromEntrySeq():Ga(L)?new Pa(L).fromEntrySeq():typeof L==="object"?new Oa(L):undefined;if(!M)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+L);return M}function Va(L){var M=Xa(L);if(!M)throw new TypeError("Expected Array or iterable object of values: "+L);return M}function Wa(L){var M=Xa(L)||typeof L==="object"&&new Oa(L);if(!M)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+L);return M}function Xa(L){return Ka(L)?new Na(L):Ha(L)?new Qa(L):Ga(L)?new Pa(L):undefined}function Ya(L,M,N,O){var P=L._cache;if(P){var Q=P.length-1;for(var R=0;R<=Q;R++){var S=P[N?Q-R:R];if(M(S[1],O?S[0]:R,L)===false)return R+1}return R}return L.__iterateUncached(M,N)}function Za(L,M,N,O){var P=L._cache;if(P){var Q=P.length-1,R=0;return new o(function(){var S=P[N?Q-R:R];return R++>Q?q():p(M,O?S[0]:R-1,S[1])})}return L.__iteratorUncached(M,N)}b($a,h);function $a(){throw TypeError("Abstract")}b(ab,$a);function ab(){}b(bb,$a);function bb(){}b(cb,$a);function cb(){}$a.Keyed=ab;$a.Indexed=bb;$a.Set=cb;function u(L,M){if(L===M||L!==L&&M!==M)return true;if(!L||!M)return false;if(typeof L.valueOf==="function"&&typeof M.valueOf==="function"){L=L.valueOf();M=M.valueOf();if(L===M||L!==L&&M!==M)return true;if(!L||!M)return false}if(typeof L.equals==="function"&&typeof M.equals==="function"&&L.equals(M))return true;return false}function db(L,M){return M?eb(M,L,"",{"":L}):fb(L)}function eb(L,M,N,O){if(Array.isArray(M))return L.call(O,N,t(M).map(function(P,Q){return eb(L,P,Q,M)}));if(gb(M))return L.call(O,N,s(M).map(function(P,Q){return eb(L,P,Q,M)}));return M}function fb(L){if(Array.isArray(L))return t(L).map(fb).toList();if(gb(L))return s(L).map(fb).toMap();return L}function gb(L){return L&&(L.constructor===Object||L.constructor===undefined)}var hb=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function L(M,N){M=M|0;N=N|0;var O=M&65535,P=N&65535;return O*P+((M>>>16)*P+O*(N>>>16)<<16>>>0)|0};function ib(L){return L>>>1&1073741824|L&3221225471}function v(L){if(L===false||L===null||L===undefined)return 0;if(typeof L.valueOf==="function"){L=L.valueOf();if(L===false||L===null||L===undefined)return 0}if(L===true)return 1;var M=typeof L;if(M==="number"){var N=L|0;if(N!==L)N^=L*4294967295;while(L>4294967295){L/=4294967295;N^=L}return ib(N)}if(M==="string")return L.length>tb?jb(L):kb(L);if(typeof L.hashCode==="function")return L.hashCode();return lb(L)}function jb(L){var v=wb[L];if(v===undefined){v=kb(L);if(vb===ub){vb=0;wb={}}vb++;wb[L]=v}return v}function kb(L){var v=0;for(var M=0;M<L.length;M++)v=31*v+L.charCodeAt(M)|0;return ib(v)}function lb(L){var v;if(pb){v=qb.get(L);if(v!==undefined)return v}v=L[sb];if(v!==undefined)return v;if(!nb){v=L.propertyIsEnumerable&&L.propertyIsEnumerable[sb];if(v!==undefined)return v;v=ob(L);if(v!==undefined)return v}v=++rb;if(rb&1073741824)rb=0;if(pb)qb.set(L,v);else if(mb!==undefined&&mb(L)===false)throw new Error("Non-extensible objects are not allowed as keys.");else if(nb)Object.defineProperty(L,sb,{enumerable:false,configurable:false,writable:false,value:v});else if(L.propertyIsEnumerable!==undefined&&L.propertyIsEnumerable===L.constructor.prototype.propertyIsEnumerable){L.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)};L.propertyIsEnumerable[sb]=v}else if(L.nodeType!==undefined)L[sb]=v;else throw new Error("Unable to set a non-enumerable property on object.");return v}var mb=Object.isExtensible,nb=function(){try{Object.defineProperty({},"@",{});return true}catch(L){return false}}();function ob(L){if(L&&L.nodeType>0)switch(L.nodeType){case 1:return L.uniqueID;case 9:return L.documentElement&&L.documentElement.uniqueID}}var pb=typeof WeakMap==="function",qb;if(pb)qb=new WeakMap();var rb=0,sb="__immutablehash__";if(typeof Symbol==="function")sb=Symbol(sb);var tb=16,ub=255,vb=0,wb={};function xb(L,M){if(!L)throw new Error(M)}function w(L){xb(L!==Infinity,"Cannot perform this action with an infinite size.")}b(yb,s);function yb(L,M){this._iter=L;this._useKeys=M;this.size=L.size}yb.prototype.get=function(L,M){return this._iter.get(L,M)};yb.prototype.has=function(L){return this._iter.has(L)};yb.prototype.valueSeq=function(){return this._iter.valueSeq()};yb.prototype.reverse=function(){var L=this,M=Eb(this,true);if(!this._useKeys)M.valueSeq=function(){return L._iter.toSeq().reverse()};return M};yb.prototype.map=function(L,M){var N=this,O=Db(this,L,M);if(!this._useKeys)O.valueSeq=function(){return N._iter.toSeq().map(L,M)};return O};yb.prototype.__iterate=function(L,M){var N=this,O;return this._iter.__iterate(this._useKeys?function(P,Q){return L(P,Q,N)}:(O=M?Ub(this):0,function(P){return L(P,M?--O:O++,N)}),M)};yb.prototype.__iterator=function(L,M){if(this._useKeys)return this._iter.__iterator(L,M);var N=this._iter.__iterator(n,M),O=M?Ub(this):0;return new o(function(){var P=N.next();return P.done?P:p(L,M?--O:O++,P.value,P)})};yb.prototype[Aa]=true;b(zb,t);function zb(L){this._iter=L;this.size=L.size}zb.prototype.includes=function(L){return this._iter.includes(L)};zb.prototype.__iterate=function(L,M){var N=this,O=0;return this._iter.__iterate(function(P){return L(P,O++,N)},M)};zb.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M),O=0;return new o(function(){var P=N.next();return P.done?P:p(L,O++,P.value,P)})};b(Ab,La);function Ab(L){this._iter=L;this.size=L.size}Ab.prototype.has=function(L){return this._iter.includes(L)};Ab.prototype.__iterate=function(L,M){var N=this;return this._iter.__iterate(function(O){return L(O,O,N)},M)};Ab.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M);return new o(function(){var O=N.next();return O.done?O:p(L,O.value,O.value,O)})};b(Bb,s);function Bb(L){this._iter=L;this.size=L.size}Bb.prototype.entrySeq=function(){return this._iter.toSeq()};Bb.prototype.__iterate=function(L,M){var N=this;return this._iter.__iterate(function(O){if(O){Tb(O);var P=k(O);return L(P?O.get(1):O[1],P?O.get(0):O[0],N)}},M)};Bb.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M);return new o(function(){while(true){var O=N.next();if(O.done)return O;var P=O.value;if(P){Tb(P);var Q=k(P);return p(L,Q?P.get(0):P[0],Q?P.get(1):P[1],O)}}})};zb.prototype.cacheResult=yb.prototype.cacheResult=Ab.prototype.cacheResult=Bb.prototype.cacheResult=Xb;function Cb(L){var M=Wb(L);M._iter=L;M.size=L.size;M.flip=function(){return L};M.reverse=function(){var N=L.reverse.apply(this);N.flip=function(){return L.reverse()};return N};M.has=function(N){return L.includes(N)};M.includes=function(N){return L.has(N)};M.cacheResult=Xb;M.__iterateUncached=function(N,O){var P=this;return L.__iterate(function(Q,R){return N(R,Q,P)!==false},O)};M.__iteratorUncached=function(N,O){if(N===Ca){var P=L.__iterator(N,O);return new o(function(){var Q=P.next();if(!Q.done){var R=Q.value[0];Q.value[0]=Q.value[1];Q.value[1]=R}return Q})}return L.__iterator(N===n?Ba:n,O)};return M}function Db(L,M,N){var O=Wb(L);O.size=L.size;O.has=function(P){return L.has(P)};O.get=function(P,Q){var R=L.get(P,f);return R===f?Q:M.call(N,R,P,L)};O.__iterateUncached=function(P,Q){var R=this;return L.__iterate(function(S,T,U){return P(M.call(N,S,T,U),T,R)!==false},Q)};O.__iteratorUncached=function(P,Q){var R=L.__iterator(Ca,Q);return new o(function(){var S=R.next();if(S.done)return S;var T=S.value,U=T[0];return p(P,U,M.call(N,T[1],U,L),S)})};return O}function Eb(L,M){var N=Wb(L);N._iter=L;N.size=L.size;N.reverse=function(){return L};if(L.flip)N.flip=function(){var O=Cb(L);O.reverse=function(){return L.flip()};return O};N.get=function(O,P){return L.get(M?O:-1-O,P)};N.has=function(O){return L.has(M?O:-1-O)};N.includes=function(O){return L.includes(O)};N.cacheResult=Xb;N.__iterate=function(O,P){var Q=this;return L.__iterate(function(R,S){return O(R,S,Q)},!P)};N.__iterator=function(O,P){return L.__iterator(O,!P)};return N}function Fb(L,M,N,O){var P=Wb(L);if(O){P.has=function(Q){var R=L.get(Q,f);return R!==f&&!!M.call(N,R,Q,L)};P.get=function(Q,R){var S=L.get(Q,f);return S!==f&&M.call(N,S,Q,L)?S:R}}P.__iterateUncached=function(Q,R){var S=this,T=0;L.__iterate(function(U,V,W){if(M.call(N,U,V,W)){T++;return Q(U,O?V:T-1,S)}},R);return T};P.__iteratorUncached=function(Q,R){var S=L.__iterator(Ca,R),T=0;return new o(function(){while(true){var U=S.next();if(U.done)return U;var V=U.value,W=V[0],X=V[1];if(M.call(N,X,W,L))return p(Q,O?W:T++,X,U)}})};return P}function Gb(L,M,N){var O=y().asMutable();L.__iterate(function(P,Q){O.update(M.call(N,P,Q,L),0,function(R){return R+1})});return O.asImmutable()}function Hb(L,M,N){var O=l(L),P=(wa(L)?C():y()).asMutable();L.__iterate(function(R,S){P.update(M.call(N,R,S,L),function(T){return T=T||[],T.push(O?[S,R]:R),T})});var Q=Vb(L);return P.map(function(R){return x(L,Q(R))})}function Ib(L,M,N,O){var P=L.size;if(qa(M,N,P))return L;var Q=ra(M,P),R=sa(N,P);if(Q!==Q||R!==R)return Ib(L.toSeq().cacheResult(),M,N,O);var S=R-Q,T;if(S===S)T=S<0?0:S;var U=Wb(L);U.size=T;if(!O&&Ra(L)&&T>=0)U.get=function(V,W){V=oa(this,V);return V>=0&&V<T?L.get(V+Q,W):W};U.__iterateUncached=function(V,W){var X=this;if(T===0)return 0;if(W)return this.cacheResult().__iterate(V,W);var Y=0,Z=true,$=0;L.__iterate(function(Jd,Kd){if(!(Z&&(Z=Y++<Q))){$++;return V(Jd,O?Kd:$-1,X)!==false&&$!==T}});return $};U.__iteratorUncached=function(V,W){if(T!==0&&W)return this.cacheResult().__iterator(V,W);var X=T!==0&&L.__iterator(V,W),Y=0,Z=0;return new o(function(){while(Y++<Q)X.next();if(++Z>T)return q();var $=X.next();if(O||V===n)return $;else if(V===Ba)return p(V,Z-1,undefined,$);else return p(V,Z-1,$.value[1],$)})};return U}function Jb(L,M,N){var O=Wb(L);O.__iterateUncached=function(P,Q){var R=this;if(Q)return this.cacheResult().__iterate(P,Q);var S=0;L.__iterate(function(T,U,V){return M.call(N,T,U,V)&&++S&&P(T,U,R)});return S};O.__iteratorUncached=function(P,Q){var R=this;if(Q)return this.cacheResult().__iterator(P,Q);var S=L.__iterator(Ca,Q),T=true;return new o(function(){if(!T)return q();var U=S.next();if(U.done)return U;var V=U.value,W=V[0],X=V[1];if(!M.call(N,X,W,R)){T=false;return q()}return P===Ca?U:p(P,W,X,U)})};return O}function Kb(L,M,N,O){var P=Wb(L);P.__iterateUncached=function(Q,R){var S=this;if(R)return this.cacheResult().__iterate(Q,R);var T=true,U=0;L.__iterate(function(V,W,X){if(!(T&&(T=M.call(N,V,W,X)))){U++;return Q(V,O?W:U-1,S)}});return U};P.__iteratorUncached=function(Q,R){var S=this;if(R)return this.cacheResult().__iterator(Q,R);var T=L.__iterator(Ca,R),U=true,V=0;return new o(function(){var W,X,Y;do{W=T.next();if(W.done)if(O||Q===n)return W;else if(Q===Ba)return p(Q,V++,undefined,W);else return p(Q,V++,W.value[1],W);var Z=W.value;X=Z[0];Y=Z[1];U&&(U=M.call(N,Y,X,S))}while(U);return Q===Ca?W:p(Q,X,Y,W)})};return P}function Lb(L,M){var N=l(L),O=[L].concat(M).map(function(R){if(!k(R))R=N?Ua(R):Va(Array.isArray(R)?R:[R]);else if(N)R=i(R);return R}).filter(function(R){return R.size!==0});if(O.length===0)return L;if(O.length===1){var P=O[0];if(P===L||N&&l(P)||m(L)&&m(P))return P}var Q=new Na(O);if(N)Q=Q.toKeyedSeq();else if(!m(L))Q=Q.toSetSeq();Q=Q.flatten(true);Q.size=O.reduce(function(R,S){if(R!==undefined){var T=S.size;if(T!==undefined)return R+T}},0);return Q}function Mb(L,M,N){var O=Wb(L);O.__iterateUncached=function(P,Q){var R=0,S=false;function T(U,V){var W=this;U.__iterate(function(X,Y){if((!M||V<M)&&k(X))T(X,V+1);else if(P(X,N?Y:R++,W)===false)S=true;return!S},Q)}T(L,0);return R};O.__iteratorUncached=function(P,Q){var R=L.__iterator(P,Q),S=[],T=0;return new o(function(){while(R){var U=R.next();if(U.done!==false){R=S.pop();continue}var V=U.value;if(P===Ca)V=V[1];if((!M||S.length<M)&&k(V)){S.push(R);R=V.__iterator(P,Q)}else return N?U:p(P,T++,V,U)}return q()})};return O}function Nb(L,M,N){var O=Vb(L);return L.toSeq().map(function(P,Q){return O(M.call(N,P,Q,L))}).flatten(true)}function Ob(L,M){var N=Wb(L);N.size=L.size&&L.size*2-1;N.__iterateUncached=function(O,P){var Q=this,R=0;L.__iterate(function(S,T){return(!R||O(M,R++,Q)!==false)&&O(S,R++,Q)!==false},P);return R};N.__iteratorUncached=function(O,P){var Q=L.__iterator(n,P),R=0,S;return new o(function(){if(!S||R%2){S=Q.next();if(S.done)return S}return R%2?p(O,R++,M):p(O,R++,S.value,S)})};return N}function Pb(L,M,N){if(!M)M=Yb;var O=l(L),P=0,Q=L.toSeq().map(function(R,S){return[S,R,P++,N?N(R,S,L):R]}).toArray();Q.sort(function(R,S){return M(R[3],S[3])||R[2]-S[2]}).forEach(O?function(R,S){Q[S].length=2}:function(R,S){Q[S]=R[1]});return O?s(Q):m(L)?t(Q):La(Q)}function Qb(L,M,N){if(!M)M=Yb;if(N){var O=L.toSeq().map(function(P,Q){return[P,N(P,Q,L)]}).reduce(function(P,Q){return Rb(M,P[1],Q[1])?Q:P});return O&&O[0]}else return L.reduce(function(P,Q){return Rb(M,P,Q)?Q:P})}function Rb(L,M,N){var O=L(N,M);return O===0&&N!==M&&(N===undefined||N===null||N!==N)||O>0}function Sb(L,M,N){var O=Wb(L);O.size=new Na(N).map(function(P){return P.size}).min();O.__iterate=function(P,Q){var R=this.__iterator(n,Q),S,T=0;while(!(S=R.next()).done)if(P(S.value,T++,this)===false)break;return T};O.__iteratorUncached=function(P,Q){var R=N.map(function(U){return U=h(U),Ia(Q?U.reverse():U)}),S=0,T=false;return new o(function(){var U;if(!T){U=R.map(function(V){return V.next()});T=U.some(function(V){return V.done})}if(T)return q();return p(P,S++,M.apply(null,U.map(function(V){return V.value})))})};return O}function x(L,M){return Ra(L)?M:L.constructor(M)}function Tb(L){if(L!==Object(L))throw new TypeError("Expected [K, V] tuple: "+L)}function Ub(L){w(L.size);return na(L)}function Vb(L){return l(L)?i:m(L)?ua:j}function Wb(L){return Object.create((l(L)?s:m(L)?t:La).prototype)}function Xb(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return r.prototype.cacheResult.call(this)}function Yb(L,M){return L>M?1:L<M?-1:0}function Zb(L){var M=Ia(L);if(!M){if(!Ka(L))throw new TypeError("Expected iterable or array-like: "+L);M=Ia(h(L))}return M}b(y,ab);function y(L){return L===null||L===undefined?lc():$b(L)?L:lc().withMutations(function(M){var N=i(L);w(N.size);N.forEach(function(O,P){return M.set(P,O)})})}y.prototype.toString=function(){return this.__toString("Map {","}")};y.prototype.get=function(L,M){return this._root?this._root.get(0,undefined,L,M):M};y.prototype.set=function(L,M){return mc(this,L,M)};y.prototype.setIn=function(L,M){return this.updateIn(L,f,function(){return M})};y.prototype.remove=function(L){return mc(this,L,f)};y.prototype.deleteIn=function(L){return this.updateIn(L,function(){return f})};y.prototype.update=function(L,M,N){return arguments.length===1?L(this):this.updateIn([L],M,N)};y.prototype.updateIn=function(L,M,N){if(!N){N=M;M=undefined}var O=wc(this,Zb(L),M,N);return O===f?undefined:O};y.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this}return lc()};y.prototype.merge=function(){return tc(this,undefined,arguments)};y.prototype.mergeWith=function(L){var M=a.call(arguments,1);return tc(this,L,M)};y.prototype.mergeIn=function(L){var M=a.call(arguments,1);return this.updateIn(L,lc(),function(N){return typeof N.merge==="function"?N.merge.apply(N,M):M[M.length-1]})};y.prototype.mergeDeep=function(){return tc(this,uc(undefined),arguments)};y.prototype.mergeDeepWith=function(L){var M=a.call(arguments,1);return tc(this,uc(L),M)};y.prototype.mergeDeepIn=function(L){var M=a.call(arguments,1);return this.updateIn(L,lc(),function(N){return typeof N.mergeDeep==="function"?N.mergeDeep.apply(N,M):M[M.length-1]})};y.prototype.sort=function(L){return C(Pb(this,L))};y.prototype.sortBy=function(L,M){return C(Pb(this,M,L))};y.prototype.withMutations=function(L){var M=this.asMutable();L(M);return M.wasAltered()?M.__ensureOwner(this.__ownerID):this};y.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new la())};y.prototype.asImmutable=function(){return this.__ensureOwner()};y.prototype.wasAltered=function(){return this.__altered};y.prototype.__iterator=function(L,M){return new gc(this,L,M)};y.prototype.__iterate=function(L,M){var N=this,O=0;this._root&&this._root.iterate(function(P){O++;return L(P[1],P[0],N)},M);return O};y.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;this.__altered=false;return this}return jc(this.size,this._root,L,this.__hash)};function $b(L){return!!(L&&L[ac])}y.isMap=$b;var ac="@@__IMMUTABLE_MAP__@@",z=y.prototype;z[ac]=true;z[ha]=z.remove;z.removeIn=z.deleteIn;function bc(L,M){this.ownerID=L;this.entries=M}bc.prototype.get=function(L,M,N,O){var P=this.entries;for(var Q=0,R=P.length;Q<R;Q++)if(u(N,P[Q][0]))return P[Q][1];return O};bc.prototype.update=function(L,M,N,O,P,Q,R){var S=P===f,T=this.entries,U=0;for(var V=T.length;U<V;U++)if(u(O,T[U][0]))break;var W=U<V;if(W?T[U][1]===P:S)return this;g(R);(S||!W)&&g(Q);if(S&&T.length===1)return;if(!W&&!S&&T.length>=Bc)return qc(L,T,O,P);var X=L&&L===this.ownerID,Y=X?T:ma(T);if(W)if(S)U===V-1?Y.pop():Y[U]=Y.pop();else Y[U]=[O,P];else Y.push([O,P]);if(X){this.entries=Y;return this}return new bc(L,Y)};function cc(L,M,N){this.ownerID=L;this.bitmap=M;this.nodes=N}cc.prototype.get=function(L,M,N,O){if(M===undefined)M=v(N);var P=1<<((L===0?M:M>>>L)&e),Q=this.bitmap;return(Q&P)===0?O:this.nodes[xc(Q&P-1)].get(L+c,M,N,O)};cc.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=(M===0?N:N>>>M)&e,T=1<<S,U=this.bitmap,V=(U&T)!==0;if(!V&&P===f)return this;var W=xc(U&T-1),X=this.nodes,Y=V?X[W]:undefined,Z=nc(Y,L,M+c,N,O,P,Q,R);if(Z===Y)return this;if(!V&&Z&&X.length>=Cc)return sc(L,X,U,S,Z);if(V&&!Z&&X.length===2&&oc(X[W^1]))return X[W^1];if(V&&Z&&X.length===1&&oc(Z))return Z;var $=L&&L===this.ownerID,Jd=V?Z?U:U^T:U|T,Kd=V?Z?yc(X,W,Z,$):Ac(X,W,$):zc(X,W,Z,$);if($){this.bitmap=Jd;this.nodes=Kd;return this}return new cc(L,Jd,Kd)};function dc(L,M,N){this.ownerID=L;this.count=M;this.nodes=N}dc.prototype.get=function(L,M,N,O){if(M===undefined)M=v(N);var P=(L===0?M:M>>>L)&e,Q=this.nodes[P];return Q?Q.get(L+c,M,N,O):O};dc.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=(M===0?N:N>>>M)&e,T=P===f,U=this.nodes,V=U[S];if(T&&!V)return this;var W=nc(V,L,M+c,N,O,P,Q,R);if(W===V)return this;var X=this.count;if(!V)X++;else if(!W){X--;if(X<Dc)return rc(L,U,X,S)}var Y=L&&L===this.ownerID,Z=yc(U,S,W,Y);if(Y){this.count=X;this.nodes=Z;return this}return new dc(L,X,Z)};function ec(L,M,N){this.ownerID=L;this.keyHash=M;this.entries=N}ec.prototype.get=function(L,M,N,O){var P=this.entries;for(var Q=0,R=P.length;Q<R;Q++)if(u(N,P[Q][0]))return P[Q][1];return O};ec.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=P===f;if(N!==this.keyHash){if(S)return this;g(R);g(Q);return pc(this,L,M,N,[O,P])}var T=this.entries,U=0;for(var V=T.length;U<V;U++)if(u(O,T[U][0]))break;var W=U<V;if(W?T[U][1]===P:S)return this;g(R);(S||!W)&&g(Q);if(S&&V===2)return new fc(L,this.keyHash,T[U^1]);var X=L&&L===this.ownerID,Y=X?T:ma(T);if(W)if(S)U===V-1?Y.pop():Y[U]=Y.pop();else Y[U]=[O,P];else Y.push([O,P]);if(X){this.entries=Y;return this}return new ec(L,this.keyHash,Y)};function fc(L,M,N){this.ownerID=L;this.keyHash=M;this.entry=N}fc.prototype.get=function(L,M,N,O){return u(N,this.entry[0])?this.entry[1]:O};fc.prototype.update=function(L,M,N,O,P,Q,R){var S=P===f,T=u(O,this.entry[0]);if(T?P===this.entry[1]:S)return this;g(R);if(S){g(Q);return}if(T){if(L&&L===this.ownerID){this.entry[1]=P;return this}return new fc(L,this.keyHash,[O,P])}g(Q);return pc(this,L,M,v(O),[O,P])};bc.prototype.iterate=ec.prototype.iterate=function(L,M){var N=this.entries;for(var O=0,P=N.length-1;O<=P;O++)if(L(N[M?P-O:O])===false)return false};cc.prototype.iterate=dc.prototype.iterate=function(L,M){var N=this.nodes;for(var O=0,P=N.length-1;O<=P;O++){var Q=N[M?P-O:O];if(Q&&Q.iterate(L,M)===false)return false}};fc.prototype.iterate=function(L,M){return L(this.entry)};b(gc,o);function gc(L,M,N){this._type=M;this._reverse=N;this._stack=L._root&&ic(L._root)}gc.prototype.next=function(){var L=this._type,M=this._stack;while(M){var N=M.node,O=M.index++,P;if(N.entry){if(O===0)return hc(L,N.entry)}else if(N.entries){P=N.entries.length-1;if(O<=P)return hc(L,N.entries[this._reverse?P-O:O])}else{P=N.nodes.length-1;if(O<=P){var Q=N.nodes[this._reverse?P-O:O];if(Q){if(Q.entry)return hc(L,Q.entry);M=this._stack=ic(Q,M)}continue}}M=this._stack=this._stack.__prev}return q()};function hc(L,M){return p(L,M[0],M[1])}function ic(L,M){return{node:L,index:0,__prev:M}}function jc(L,M,N,v){var O=Object.create(z);O.size=L;O._root=M;O.__ownerID=N;O.__hash=v;O.__altered=false;return O}var kc;function lc(){return kc||(kc=jc(0))}function mc(L,M,N){var O,P;if(!L._root){if(N===f)return L;P=1;O=new bc(L.__ownerID,[[M,N]])}else{var Q=ka(ia),R=ka(ja);O=nc(L._root,L.__ownerID,0,undefined,M,N,Q,R);if(!R.value)return L;P=L.size+(Q.value?N===f?-1:1:0)}if(L.__ownerID){L.size=P;L._root=O;L.__hash=undefined;L.__altered=true;return L}return O?jc(P,O):lc()}function nc(L,M,N,O,P,Q,R,S){if(!L){if(Q===f)return L;g(S);g(R);return new fc(M,O,[P,Q])}return L.update(M,N,O,P,Q,R,S)}function oc(L){return L.constructor===fc||L.constructor===ec}function pc(L,M,N,O,P){if(L.keyHash===O)return new ec(M,O,[L.entry,P]);var Q=(N===0?L.keyHash:L.keyHash>>>N)&e,R=(N===0?O:O>>>N)&e,S,T=Q===R?[pc(L,M,N+c,O,P)]:(S=new fc(M,O,P),Q<R?[L,S]:[S,L]);return new cc(M,1<<Q|1<<R,T)}function qc(L,M,N,O){if(!L)L=new la();var P=new fc(L,v(N),[N,O]);for(var Q=0;Q<M.length;Q++){var R=M[Q];P=P.update(L,0,undefined,R[0],R[1])}return P}function rc(L,M,N,O){var P=0,Q=0,R=new Array(N);for(var S=0,T=1,U=M.length;S<U;S++,T<<=1){var V=M[S];if(V!==undefined&&S!==O){P|=T;R[Q++]=V}}return new cc(L,P,R)}function sc(L,M,N,O,P){var Q=0,R=new Array(d);for(var S=0;N!==0;S++,N>>>=1)R[S]=N&1?M[Q++]:undefined;R[O]=P;return new dc(L,Q+1,R)}function tc(L,M,N){var O=[];for(var P=0;P<N.length;P++){var Q=N[P],R=i(Q);if(!k(Q))R=R.map(function(S){return db(S)});O.push(R)}return vc(L,M,O)}function uc(L){return function(M,N,O){return M&&M.mergeDeepWith&&k(N)?M.mergeDeepWith(L,N):L?L(M,N,O):N}}function vc(L,M,N){N=N.filter(function(O){return O.size!==0});if(N.length===0)return L;if(L.size===0&&!L.__ownerID&&N.length===1)return L.constructor(N[0]);return L.withMutations(function(L){var O=M?function(Q,R){L.update(R,f,function(S){return S===f?Q:M(S,Q,R)})}:function(Q,R){L.set(R,Q)};for(var P=0;P<N.length;P++)N[P].forEach(O)})}function wc(L,M,N,O){var P=L===f,Q=M.next();if(Q.done){var R=P?N:L,S=O(R);return S===R?L:S}xb(P||L&&L.set,"invalid keyPath");var T=Q.value,U=P?f:L.get(T,f),V=wc(U,M,N,O);return V===U?L:V===f?L.remove(T):(P?lc():L).set(T,V)}function xc(L){L=L-(L>>1&1431655765);L=(L&858993459)+(L>>2&858993459);L=L+(L>>4)&252645135;L=L+(L>>8);L=L+(L>>16);return L&127}function yc(L,M,N,O){var P=O?L:ma(L);P[M]=N;return P}function zc(L,M,N,O){var P=L.length+1;if(O&&M+1===P){L[M]=N;return L}var Q=new Array(P),R=0;for(var S=0;S<P;S++)if(S===M){Q[S]=N;R=-1}else Q[S]=L[S+R];return Q}function Ac(L,M,N){var O=L.length-1;if(N&&M===O){L.pop();return L}var P=new Array(O),Q=0;for(var R=0;R<O;R++){if(R===M)Q=1;P[R]=L[R+Q]}return P}var Bc=d/4,Cc=d/2,Dc=d/4;b(A,bb);function A(L){var M=Lc();if(L===null||L===undefined)return M;if(Ec(L))return L;var N=ua(L),O=N.size;if(O===0)return M;w(O);if(O>0&&O<d)return Jc(0,O,c,null,new Gc(N.toArray()));return M.withMutations(function(P){P.setSize(O);N.forEach(function(Q,R){return P.set(R,Q)})})}A.of=function(){return this(arguments)};A.prototype.toString=function(){return this.__toString("List [","]")};A.prototype.get=function(L,M){L=oa(this,L);if(L<0||L>=this.size)return M;L+=this._origin;var N=Pc(this,L);return N&&N.array[L&e]};A.prototype.set=function(L,M){return Mc(this,L,M)};A.prototype.remove=function(L){return!this.has(L)?this:L===0?this.shift():L===this.size-1?this.pop():this.splice(L,1)};A.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=c;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this}return Lc()};A.prototype.push=function(){var L=arguments,M=this.size;return this.withMutations(function(N){Qc(N,0,M+L.length);for(var O=0;O<L.length;O++)N.set(M+O,L[O])})};A.prototype.pop=function(){return Qc(this,0,-1)};A.prototype.unshift=function(){var L=arguments;return this.withMutations(function(M){Qc(M,-L.length);for(var N=0;N<L.length;N++)M.set(N,L[N])})};A.prototype.shift=function(){return Qc(this,1)};A.prototype.merge=function(){return Rc(this,undefined,arguments)};A.prototype.mergeWith=function(L){var M=a.call(arguments,1);return Rc(this,L,M)};A.prototype.mergeDeep=function(){return Rc(this,uc(undefined),arguments)};A.prototype.mergeDeepWith=function(L){var M=a.call(arguments,1);return Rc(this,uc(L),M)};A.prototype.setSize=function(L){return Qc(this,0,L)};A.prototype.slice=function(L,M){var N=this.size;if(qa(L,M,N))return this;return Qc(this,ra(L,N),sa(M,N))};A.prototype.__iterator=function(L,M){var N=0,O=Ic(this,M);return new o(function(){var P=O();return P===Hc?q():p(L,N++,P)})};A.prototype.__iterate=function(L,M){var N=0,O=Ic(this,M),P;while((P=O())!==Hc)if(L(P,N++,this)===false)break;return N};A.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;return this}return Jc(this._origin,this._capacity,this._level,this._root,this._tail,L,this.__hash)};function Ec(L){return!!(L&&L[Fc])}A.isList=Ec;var Fc="@@__IMMUTABLE_LIST__@@",B=A.prototype;B[Fc]=true;B[ha]=B.remove;B.setIn=z.setIn;B.deleteIn=B.removeIn=z.removeIn;B.update=z.update;B.updateIn=z.updateIn;B.mergeIn=z.mergeIn;B.mergeDeepIn=z.mergeDeepIn;B.withMutations=z.withMutations;B.asMutable=z.asMutable;B.asImmutable=z.asImmutable;B.wasAltered=z.wasAltered;function Gc(L,M){this.array=L;this.ownerID=M}Gc.prototype.removeBefore=function(L,M,N){if(N===M?1<<M:this.array.length===0)return this;var O=N>>>M&e;if(O>=this.array.length)return new Gc([],L);var P=O===0,Q;if(M>0){var R=this.array[O];Q=R&&R.removeBefore(L,M-c,N);if(Q===R&&P)return this}if(P&&!Q)return this;var S=Oc(this,L);if(!P)for(var T=0;T<O;T++)S.array[T]=undefined;if(Q)S.array[O]=Q;return S};Gc.prototype.removeAfter=function(L,M,N){if(N===M?1<<M:this.array.length===0)return this;var O=N-1>>>M&e;if(O>=this.array.length)return this;var P=O===this.array.length-1,Q;if(M>0){var R=this.array[O];Q=R&&R.removeAfter(L,M-c,N);if(Q===R&&P)return this}if(P&&!Q)return this;var S=Oc(this,L);if(!P)S.array.pop();if(Q)S.array[O]=Q;return S};var Hc={};function Ic(L,M){var N=L._origin,O=L._capacity,P=Sc(O),Q=L._tail;return R(L._root,L._level,0);function R(U,V,W){return V===0?S(U,W):T(U,V,W)}function S(U,V){var W=V===P?Q&&Q.array:U&&U.array,X=V>N?0:N-V,Y=O-V;if(Y>d)Y=d;return function(){if(X===Y)return Hc;var Z=M?--Y:X++;return W&&W[Z]}}function T(U,V,W){var X,Y=U&&U.array,Z=W>N?0:N-W>>V,$=(O-W>>V)+1;if($>d)$=d;return function(){do{if(X){var Jd=X();if(Jd!==Hc)return Jd;X=null}if(Z===$)return Hc;var Kd=M?--$:Z++;X=R(Y&&Y[Kd],V-c,W+(Kd<<V))}while(true)}}}function Jc(L,M,N,O,P,Q,v){var R=Object.create(B);R.size=M-L;R._origin=L;R._capacity=M;R._level=N;R._root=O;R._tail=P;R.__ownerID=Q;R.__hash=v;R.__altered=false;return R}var Kc;function Lc(){return Kc||(Kc=Jc(0,0,c))}function Mc(L,M,N){M=oa(L,M);if(M>=L.size||M<0)return L.withMutations(function(L){M<0?Qc(L,M).set(0,N):Qc(L,0,M+1).set(M,N)});M+=L._origin;var O=L._tail,P=L._root,Q=ka(ja);if(M>=Sc(L._capacity))O=Nc(O,L.__ownerID,0,M,N,Q);else P=Nc(P,L.__ownerID,L._level,M,N,Q);if(!Q.value)return L;if(L.__ownerID){L._root=P;L._tail=O;L.__hash=undefined;L.__altered=true;return L}return Jc(L._origin,L._capacity,L._level,P,O)}function Nc(L,M,N,O,P,Q){var R=O>>>N&e,S=L&&R<L.array.length;if(!S&&P===undefined)return L;var T;if(N>0){var U=L&&L.array[R],V=Nc(U,M,N-c,O,P,Q);if(V===U)return L;T=Oc(L,M);T.array[R]=V;return T}if(S&&L.array[R]===P)return L;g(Q);T=Oc(L,M);if(P===undefined&&R===T.array.length-1)T.array.pop();else T.array[R]=P;return T}function Oc(L,M){if(M&&L&&M===L.ownerID)return L;return new Gc(L?L.array.slice():[],M)}function Pc(L,M){if(M>=Sc(L._capacity))return L._tail;if(M<1<<L._level+c){var N=L._root,O=L._level;while(N&&O>0){N=N.array[M>>>O&e];O-=c}return N}}function Qc(L,M,N){var O=L.__ownerID||new la(),P=L._origin,Q=L._capacity,R=P+M,S=N===undefined?Q:N<0?Q+N:P+N;if(R===P&&S===Q)return L;if(R>=S)return L.clear();var T=L._level,U=L._root,V=0;while(R+V<0){U=new Gc(U&&U.array.length?[undefined,U]:[],O);T+=c;V+=1<<T}if(V){R+=V;P+=V;S+=V;Q+=V}var W=Sc(Q),X=Sc(S);while(X>=1<<T+c){U=new Gc(U&&U.array.length?[U]:[],O);T+=c}var Y=L._tail,Z=X<W?Pc(L,S-1):X>W?new Gc([],O):Y;if(Y&&X>W&&R<Q&&Y.array.length){U=Oc(U,O);var $=U;for(var Jd=T;Jd>c;Jd-=c){var Kd=W>>>Jd&e;$=$.array[Kd]=Oc($.array[Kd],O)}$.array[W>>>c&e]=Y}if(S<Q)Z=Z&&Z.removeAfter(O,0,S);if(R>=X){R-=X;S-=X;T=c;U=null;Z=Z&&Z.removeBefore(O,0,R)}else if(R>P||X<W){V=0;while(U){var Ld=R>>>T&e;if(Ld!==X>>>T&e)break;if(Ld)V+=(1<<T)*Ld;T-=c;U=U.array[Ld]}if(U&&R>P)U=U.removeBefore(O,T,R-V);if(U&&X<W)U=U.removeAfter(O,T,X-V);if(V){R-=V;S-=V}}if(L.__ownerID){L.size=S-R;L._origin=R;L._capacity=S;L._level=T;L._root=U;L._tail=Z;L.__hash=undefined;L.__altered=true;return L}return Jc(R,S,T,U,Z)}function Rc(L,M,N){var O=[],P=0;for(var Q=0;Q<N.length;Q++){var R=N[Q],S=ua(R);if(S.size>P)P=S.size;if(!k(R))S=S.map(function(T){return db(T)});O.push(S)}if(P>L.size)L=L.setSize(P);return vc(L,M,O)}function Sc(L){return L<d?0:L-1>>>c<<c}b(C,y);function C(L){return L===null||L===undefined?Wc():Tc(L)?L:Wc().withMutations(function(M){var N=i(L);w(N.size);N.forEach(function(O,P){return M.set(P,O)})})}C.of=function(){return this(arguments)};C.prototype.toString=function(){return this.__toString("OrderedMap {","}")};C.prototype.get=function(L,M){var N=this._map.get(L);return N!==undefined?this._list.get(N)[1]:M};C.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return Wc()};C.prototype.set=function(L,M){return Xc(this,L,M)};C.prototype.remove=function(L){return Xc(this,L,f)};C.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};C.prototype.__iterate=function(L,M){var N=this;return this._list.__iterate(function(O){return O&&L(O[1],O[0],N)},M)};C.prototype.__iterator=function(L,M){return this._list.fromEntrySeq().__iterator(L,M)};C.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map.__ensureOwner(L),N=this._list.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;this._list=N;return this}return Uc(M,N,L,this.__hash)};function Tc(L){return $b(L)&&wa(L)}C.isOrderedMap=Tc;C.prototype[Aa]=true;C.prototype[ha]=C.prototype.remove;function Uc(L,M,N,v){var O=Object.create(C.prototype);O.size=L?L.size:0;O._map=L;O._list=M;O.__ownerID=N;O.__hash=v;return O}var Vc;function Wc(){return Vc||(Vc=Uc(lc(),Lc()))}function Xc(L,M,N){var O=L._map,P=L._list,Q=O.get(M),R=Q!==undefined,S,T;if(N===f){if(!R)return L;if(P.size>=d&&P.size>=O.size*2){T=P.filter(function(U,V){return U!==undefined&&Q!==V});S=T.toKeyedSeq().map(function(U){return U[0]}).flip().toMap();if(L.__ownerID)S.__ownerID=T.__ownerID=L.__ownerID}else{S=O.remove(M);T=Q===P.size-1?P.pop():P.set(Q,undefined)}}else if(R){if(N===P.get(Q)[1])return L;S=O;T=P.set(Q,[M,N])}else{S=O.set(M,P.size);T=P.set(P.size,[M,N])}if(L.__ownerID){L.size=S.size;L._map=S;L._list=T;L.__hash=undefined;return L}return Uc(S,T)}b(D,bb);function D(L){return L===null||L===undefined?cd():Yc(L)?L:cd().unshiftAll(L)}D.of=function(){return this(arguments)};D.prototype.toString=function(){return this.__toString("Stack [","]")};D.prototype.get=function(L,M){var N=this._head;L=oa(this,L);while(N&&L--)N=N.next;return N?N.value:M};D.prototype.peek=function(){return this._head&&this._head.value};D.prototype.push=function(){if(arguments.length===0)return this;var L=this.size+arguments.length,M=this._head;for(var N=arguments.length-1;N>=0;N--)M={value:arguments[N],next:M};if(this.__ownerID){this.size=L;this._head=M;this.__hash=undefined;this.__altered=true;return this}return ad(L,M)};D.prototype.pushAll=function(L){L=ua(L);if(L.size===0)return this;w(L.size);var M=this.size,N=this._head;L.reverse().forEach(function(O){M++;N={value:O,next:N}});if(this.__ownerID){this.size=M;this._head=N;this.__hash=undefined;this.__altered=true;return this}return ad(M,N)};D.prototype.pop=function(){return this.slice(1)};D.prototype.unshift=function(){return this.push.apply(this,arguments)};D.prototype.unshiftAll=function(L){return this.pushAll(L)};D.prototype.shift=function(){return this.pop.apply(this,arguments)};D.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this}return cd()};D.prototype.slice=function(L,M){if(qa(L,M,this.size))return this;var N=ra(L,this.size),O=sa(M,this.size);if(O!==this.size)return bb.prototype.slice.call(this,L,M);var P=this.size-N,Q=this._head;while(N--)Q=Q.next;if(this.__ownerID){this.size=P;this._head=Q;this.__hash=undefined;this.__altered=true;return this}return ad(P,Q)};D.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;this.__altered=false;return this}return ad(this.size,this._head,L,this.__hash)};D.prototype.__iterate=function(L,M){if(M)return this.reverse().__iterate(L);var N=0,O=this._head;while(O){if(L(O.value,N++,this)===false)break;O=O.next}return N};D.prototype.__iterator=function(L,M){if(M)return this.reverse().__iterator(L);var N=0,O=this._head;return new o(function(){if(O){var P=O.value;O=O.next;return p(L,N++,P)}return q()})};function Yc(L){return!!(L&&L[Zc])}D.isStack=Yc;var Zc="@@__IMMUTABLE_STACK__@@",$c=D.prototype;$c[Zc]=true;$c.withMutations=z.withMutations;$c.asMutable=z.asMutable;$c.asImmutable=z.asImmutable;$c.wasAltered=z.wasAltered;function ad(L,M,N,v){var O=Object.create($c);O.size=L;O._head=M;O.__ownerID=N;O.__hash=v;O.__altered=false;return O}var bd;function cd(){return bd||(bd=ad(0))}b(E,cb);function E(L){return L===null||L===undefined?id():dd(L)?L:id().withMutations(function(M){var N=j(L);w(N.size);N.forEach(function(O){return M.add(O)})})}E.of=function(){return this(arguments)};E.fromKeys=function(L){return this(i(L).keySeq())};E.prototype.toString=function(){return this.__toString("Set {","}")};E.prototype.has=function(L){return this._map.has(L)};E.prototype.add=function(L){return fd(this,this._map.set(L,true))};E.prototype.remove=function(L){return fd(this,this._map.remove(L))};E.prototype.clear=function(){return fd(this,this._map.clear())};E.prototype.union=function(){var L=a.call(arguments,0);L=L.filter(function(M){return M.size!==0});if(L.length===0)return this;if(this.size===0&&!this.__ownerID&&L.length===1)return this.constructor(L[0]);return this.withMutations(function(M){for(var N=0;N<L.length;N++)j(L[N]).forEach(function(O){return M.add(O)})})};E.prototype.intersect=function(){var L=a.call(arguments,0);if(L.length===0)return this;L=L.map(function(N){return j(N)});var M=this;return this.withMutations(function(N){M.forEach(function(O){if(!L.every(function(P){return P.includes(O)}))N.remove(O)})})};E.prototype.subtract=function(){var L=a.call(arguments,0);if(L.length===0)return this;L=L.map(function(N){return j(N)});var M=this;return this.withMutations(function(N){M.forEach(function(O){if(L.some(function(P){return P.includes(O)}))N.remove(O)})})};E.prototype.merge=function(){return this.union.apply(this,arguments)};E.prototype.mergeWith=function(L){var M=a.call(arguments,1);return this.union.apply(this,M)};E.prototype.sort=function(L){return jd(Pb(this,L))};E.prototype.sortBy=function(L,M){return jd(Pb(this,M,L))};E.prototype.wasAltered=function(){return this._map.wasAltered()};E.prototype.__iterate=function(L,M){var N=this;return this._map.__iterate(function(O,P){return L(P,P,N)},M)};E.prototype.__iterator=function(L,M){return this._map.map(function(N,O){return O}).__iterator(L,M)};E.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;return this}return this.__make(M,L)};function dd(L){return!!(L&&L[ed])}E.isSet=dd;var ed="@@__IMMUTABLE_SET__@@",F=E.prototype;F[ed]=true;F[ha]=F.remove;F.mergeDeep=F.merge;F.mergeDeepWith=F.mergeWith;F.withMutations=z.withMutations;F.asMutable=z.asMutable;F.asImmutable=z.asImmutable;F.__empty=id;F.__make=gd;function fd(L,M){if(L.__ownerID){L.size=M.size;L._map=M;return L}return M===L._map?L:M.size===0?L.__empty():L.__make(M)}function gd(L,M){var N=Object.create(F);N.size=L?L.size:0;N._map=L;N.__ownerID=M;return N}var hd;function id(){return hd||(hd=gd(lc()))}b(jd,E);function jd(L){return L===null||L===undefined?od():kd(L)?L:od().withMutations(function(M){var N=j(L);w(N.size);N.forEach(function(O){return M.add(O)})})}jd.of=function(){return this(arguments)};jd.fromKeys=function(L){return this(i(L).keySeq())};jd.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function kd(L){return dd(L)&&wa(L)}jd.isOrderedSet=kd;var ld=jd.prototype;ld[Aa]=true;ld.__empty=od;ld.__make=md;function md(L,M){var N=Object.create(ld);N.size=L?L.size:0;N._map=L;N.__ownerID=M;return N}var nd;function od(){return nd||(nd=md(Wc()))}b(G,ab);function G(L,M){var N,O=function G(Q){if(Q instanceof O)return Q;if(!(this instanceof O))return new O(Q);if(!N){N=true;var R=Object.keys(L);rd(P,R);P.size=R.length;P._name=M;P._keys=R;P._defaultValues=L}this._map=y(Q)},P=O.prototype=Object.create(H);P.constructor=O;return O}G.prototype.toString=function(){return this.__toString(qd(this)+" {","}")};G.prototype.has=function(L){return this._defaultValues.hasOwnProperty(L)};G.prototype.get=function(L,M){if(!this.has(L))return M;var N=this._defaultValues[L];return this._map?this._map.get(L,N):N};G.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var L=this.constructor;return L._empty||(L._empty=pd(this,lc()))};G.prototype.set=function(L,M){if(!this.has(L))throw new Error('Cannot set unknown key "'+L+'" on '+qd(this));var N=this._map&&this._map.set(L,M);if(this.__ownerID||N===this._map)return this;return pd(this,N)};G.prototype.remove=function(L){if(!this.has(L))return this;var M=this._map&&this._map.remove(L);if(this.__ownerID||M===this._map)return this;return pd(this,M)};G.prototype.wasAltered=function(){return this._map.wasAltered()};G.prototype.__iterator=function(L,M){var N=this;return i(this._defaultValues).map(function(O,P){return N.get(P)}).__iterator(L,M)};G.prototype.__iterate=function(L,M){var N=this;return i(this._defaultValues).map(function(O,P){return N.get(P)}).__iterate(L,M)};G.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map&&this._map.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;return this}return pd(this,M,L)};var H=G.prototype;H[ha]=H.remove;H.deleteIn=H.removeIn=z.removeIn;H.merge=z.merge;H.mergeWith=z.mergeWith;H.mergeIn=z.mergeIn;H.mergeDeep=z.mergeDeep;H.mergeDeepWith=z.mergeDeepWith;H.mergeDeepIn=z.mergeDeepIn;H.setIn=z.setIn;H.update=z.update;H.updateIn=z.updateIn;H.withMutations=z.withMutations;H.asMutable=z.asMutable;H.asImmutable=z.asImmutable;function pd(L,M,N){var O=Object.create(Object.getPrototypeOf(L));O._map=M;O.__ownerID=N;return O}function qd(L){return L._name||L.constructor.name||"Record"}function rd(L,M){try{M.forEach(sd.bind(undefined,L))}catch(N){}}function sd(L,M){Object.defineProperty(L,M,{get:function(){return this.get(M)},set:function(N){xb(this.__ownerID,"Cannot set on an immutable record.");this.set(M,N)}})}function td(L,M){if(L===M)return true;if(!k(M)||L.size!==undefined&&M.size!==undefined&&L.size!==M.size||L.__hash!==undefined&&M.__hash!==undefined&&L.__hash!==M.__hash||l(L)!==l(M)||m(L)!==m(M)||wa(L)!==wa(M))return false;if(L.size===0&&M.size===0)return true;var N=!va(L);if(wa(L)){var O=L.entries();return M.every(function(T,U){var V=O.next().value;return V&&u(V[1],T)&&(N||u(V[0],U))})&&O.next().done}var P=false;if(L.size===undefined)if(M.size===undefined){if(typeof L.cacheResult==="function")L.cacheResult()}else{P=true;var Q=L;L=M;M=Q}var R=true,S=M.__iterate(function(T,U){if(N?!L.has(T):P?!u(T,L.get(U,f)):!u(L.get(U,f),T)){R=false;return false}});return R&&L.size===S}b(I,t);function I(L,M,N){if(!(this instanceof I))return new I(L,M,N);xb(N!==0,"Cannot step a Range by 0");L=L||0;if(M===undefined)M=Infinity;N=N===undefined?1:Math.abs(N);if(M<L)N=-N;this._start=L;this._end=M;this._step=N;this.size=Math.max(0,Math.ceil((M-L)/N-1)+1);if(this.size===0){if(ud)return ud;ud=this}}I.prototype.toString=function(){if(this.size===0)return"Range []";return"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};I.prototype.get=function(L,M){return this.has(L)?this._start+oa(this,L)*this._step:M};I.prototype.includes=function(L){var M=(L-this._start)/this._step;return M>=0&&M<this.size&&M===Math.floor(M)};I.prototype.slice=function(L,M){if(qa(L,M,this.size))return this;L=ra(L,this.size);M=sa(M,this.size);if(M<=L)return new I(0,0);return new I(this.get(L,this._end),this.get(M,this._end),this._step)};I.prototype.indexOf=function(L){var M=L-this._start;if(M%this._step===0){var N=M/this._step;if(N>=0&&N<this.size)return N}return-1};I.prototype.lastIndexOf=function(L){return this.indexOf(L)};I.prototype.__iterate=function(L,M){var N=this.size-1,O=this._step,P=M?this._start+N*O:this._start;for(var Q=0;Q<=N;Q++){if(L(P,Q,this)===false)return Q+1;P+=M?-O:O}return Q};I.prototype.__iterator=function(L,M){var N=this.size-1,O=this._step,P=M?this._start+N*O:this._start,Q=0;return new o(function(){var R=P;P+=M?-O:O;return Q>N?q():p(L,Q++,R)})};I.prototype.equals=function(L){return L instanceof I?this._start===L._start&&this._end===L._end&&this._step===L._step:td(this,L)};var ud;b(J,t);function J(L,M){if(!(this instanceof J))return new J(L,M);this._value=L;this.size=M===undefined?Infinity:Math.max(0,M);if(this.size===0){if(vd)return vd;vd=this}}J.prototype.toString=function(){if(this.size===0)return"Repeat []";return"Repeat [ "+this._value+" "+this.size+" times ]"};J.prototype.get=function(L,M){return this.has(L)?this._value:M};J.prototype.includes=function(L){return u(this._value,L)};J.prototype.slice=function(L,M){var N=this.size;return qa(L,M,N)?this:new J(this._value,sa(M,N)-ra(L,N))};J.prototype.reverse=function(){return this};J.prototype.indexOf=function(L){if(u(this._value,L))return 0;return-1};J.prototype.lastIndexOf=function(L){if(u(this._value,L))return this.size;return-1};J.prototype.__iterate=function(L,M){for(var N=0;N<this.size;N++)if(L(this._value,N,this)===false)return N+1;return N};J.prototype.__iterator=function(L,M){var N=this,O=0;return new o(function(){return O<N.size?p(L,O++,N._value):q()})};J.prototype.equals=function(L){return L instanceof J?u(this._value,L._value):td(L)};var vd;function wd(L,M){var N=function(O){L.prototype[O]=M[O]};Object.keys(M).forEach(N);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(M).forEach(N);return L}h.Iterator=o;wd(h,{toArray:function(){w(this.size);var L=new Array(this.size||0);this.valueSeq().__iterate(function(M,N){L[N]=M});return L},toIndexedSeq:function(){return new zb(this)},toJS:function(){return this.toSeq().map(function(L){return L&&typeof L.toJS==="function"?L.toJS():L}).__toJS()},toJSON:function(){return this.toSeq().map(function(L){return L&&typeof L.toJSON==="function"?L.toJSON():L}).__toJS()},toKeyedSeq:function(){return new yb(this,true)},toMap:function(){return y(this.toKeyedSeq())},toObject:function(){w(this.size);var L={};this.__iterate(function(M,N){L[N]=M});return L},toOrderedMap:function(){return C(this.toKeyedSeq())},toOrderedSet:function(){return jd(l(this)?this.valueSeq():this)},toSet:function(){return E(l(this)?this.valueSeq():this)},toSetSeq:function(){return new Ab(this)},toSeq:function(){return m(this)?this.toIndexedSeq():l(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return D(l(this)?this.valueSeq():this)},toList:function(){return A(l(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(L,M){if(this.size===0)return L+M;return L+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+M},concat:function(){var L=a.call(arguments,0);return x(this,Lb(this,L))},contains:function(L){return this.includes(L)},includes:function(L){return this.some(function(M){return u(M,L)})},entries:function(){return this.__iterator(Ca)},every:function(L,M){w(this.size);var N=true;this.__iterate(function(O,P,Q){if(!L.call(M,O,P,Q)){N=false;return false}});return N},filter:function(L,M){return x(this,Fb(this,L,M,true))},find:function(L,M,N){var O=this.findEntry(L,M);return O?O[1]:N},findEntry:function(L,M){var N;this.__iterate(function(O,P,Q){if(L.call(M,O,P,Q)){N=[P,O];return false}});return N},findLastEntry:function(L,M){return this.toSeq().reverse().findEntry(L,M)},forEach:function(L,M){w(this.size);return this.__iterate(M?L.bind(M):L)},join:function(L){w(this.size);L=L!==undefined?""+L:",";var M="",N=true;this.__iterate(function(O){N?N=false:M+=L;M+=O!==null&&O!==undefined?O.toString():""});return M},keys:function(){return this.__iterator(Ba)},map:function(L,M){return x(this,Db(this,L,M))},reduce:function(L,M,N){w(this.size);var O,P;if(arguments.length<2)P=true;else O=M;this.__iterate(function(Q,R,S){if(P){P=false;O=Q}else O=L.call(N,O,Q,R,S)});return O},reduceRight:function(L,M,N){var O=this.toKeyedSeq().reverse();return O.reduce.apply(O,arguments)},reverse:function(){return x(this,Eb(this,true))},slice:function(L,M){return x(this,Ib(this,L,M,true))},some:function(L,M){return!this.every(Ad(L),M)},sort:function(L){return x(this,Pb(this,L))},values:function(){return this.__iterator(n)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true})},count:function(L,M){return na(L?this.toSeq().filter(L,M):this)},countBy:function(L,M){return Gb(this,L,M)},equals:function(L){return td(this,L)},entrySeq:function(){var L=this;if(L._cache)return new Na(L._cache);var M=L.toSeq().map(zd).toIndexedSeq();M.fromEntrySeq=function(){return L.toSeq()};return M},filterNot:function(L,M){return this.filter(Ad(L),M)},findLast:function(L,M,N){return this.toKeyedSeq().reverse().find(L,M,N)},first:function(){return this.find(pa)},flatMap:function(L,M){return x(this,Nb(this,L,M))},flatten:function(L){return x(this,Mb(this,L,true))},fromEntrySeq:function(){return new Bb(this)},get:function(L,M){return this.find(function(N,O){return u(O,L)},undefined,M)},getIn:function(L,M){var N=this,O=Zb(L),P;while(!(P=O.next()).done){var Q=P.value;N=N&&N.get?N.get(Q,f):f;if(N===f)return M}return N},groupBy:function(L,M){return Hb(this,L,M)},has:function(L){return this.get(L,f)!==f},hasIn:function(L){return this.getIn(L,f)!==f},isSubset:function(L){L=typeof L.includes==="function"?L:h(L);return this.every(function(M){return L.includes(M)})},isSuperset:function(L){return L.isSubset(this)},keySeq:function(){return this.toSeq().map(yd).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(L){return Qb(this,L)},maxBy:function(L,M){return Qb(this,M,L)},min:function(L){return Qb(this,L?Bd(L):Ed)},minBy:function(L,M){return Qb(this,M?Bd(M):Ed,L)},rest:function(){return this.slice(1)},skip:function(L){return this.slice(Math.max(0,L))},skipLast:function(L){return x(this,this.toSeq().reverse().skip(L).reverse())},skipWhile:function(L,M){return x(this,Kb(this,L,M,true))},skipUntil:function(L,M){return this.skipWhile(Ad(L),M)},sortBy:function(L,M){return x(this,Pb(this,M,L))},take:function(L){return this.slice(0,Math.max(0,L))},takeLast:function(L){return x(this,this.toSeq().reverse().take(L).reverse())},takeWhile:function(L,M){return x(this,Jb(this,L,M))},takeUntil:function(L,M){return this.takeWhile(Ad(L),M)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Fd(this))}});var K=h.prototype;K[xa]=true;K[Fa]=K.values;K.__toJS=K.toArray;K.__toStringMapper=Cd;K.inspect=K.toSource=function(){return this.toString()};K.chain=K.flatMap;(function(){try{Object.defineProperty(K,"length",{get:function(){if(!h.noLengthWarning){var M;try{throw new Error()}catch(N){M=N.stack}if(M.indexOf("_wrapObject")===-1){console&&emptyFunction&&false;return this.size}}}})}catch(L){}})();wd(i,{flip:function(){return x(this,Cb(this))},findKey:function(L,M){var N=this.findEntry(L,M);return N&&N[0]},findLastKey:function(L,M){return this.toSeq().reverse().findKey(L,M)},keyOf:function(L){return this.findKey(function(M){return u(M,L)})},lastKeyOf:function(L){return this.findLastKey(function(M){return u(M,L)})},mapEntries:function(L,M){var N=this,O=0;return x(this,this.toSeq().map(function(P,Q){return L.call(M,[Q,P],O++,N)}).fromEntrySeq())},mapKeys:function(L,M){var N=this;return x(this,this.toSeq().flip().map(function(O,P){return L.call(M,O,P,N)}).flip())}});var xd=i.prototype;xd[ya]=true;xd[Fa]=K.entries;xd.__toJS=K.toObject;xd.__toStringMapper=function(L,M){return JSON.stringify(M)+": "+Cd(L)};wd(ua,{toKeyedSeq:function(){return new yb(this,false)},filter:function(L,M){return x(this,Fb(this,L,M,false))},findIndex:function(L,M){var N=this.findEntry(L,M);return N?N[0]:-1},indexOf:function(L){var M=this.toKeyedSeq().keyOf(L);return M===undefined?-1:M},lastIndexOf:function(L){return this.toSeq().reverse().indexOf(L)},reverse:function(){return x(this,Eb(this,false))},slice:function(L,M){return x(this,Ib(this,L,M,false))},splice:function(L,M){var N=arguments.length;M=Math.max(M|0,0);if(N===0||N===2&&!M)return this;L=ra(L,this.size);var O=this.slice(0,L);return x(this,N===1?O:O.concat(ma(arguments,2),this.slice(L+M)))},findLastIndex:function(L,M){var N=this.toKeyedSeq().findLastKey(L,M);return N===undefined?-1:N},first:function(){return this.get(0)},flatten:function(L){return x(this,Mb(this,L,false))},get:function(L,M){L=oa(this,L);return L<0||this.size===Infinity||this.size!==undefined&&L>this.size?M:this.find(function(N,O){return O===L},undefined,M)},has:function(L){L=oa(this,L);return L>=0&&(this.size!==undefined?this.size===Infinity||L<this.size:this.indexOf(L)!==-1)},interpose:function(L){return x(this,Ob(this,L))},interleave:function(){var L=[this].concat(ma(arguments)),M=Sb(this.toSeq(),t.of,L),N=M.flatten(true);if(M.size)N.size=M.size*L.length;return x(this,N)},last:function(){return this.get(-1)},skipWhile:function(L,M){return x(this,Kb(this,L,M,false))},zip:function(){var L=[this].concat(ma(arguments));return x(this,Sb(this,Dd,L))},zipWith:function(L){var M=ma(arguments);M[0]=this;return x(this,Sb(this,L,M))}});ua.prototype[za]=true;ua.prototype[Aa]=true;wd(j,{get:function(L,M){return this.has(L)?L:M},includes:function(L){return this.has(L)},keySeq:function(){return this.valueSeq()}});j.prototype.has=K.includes;wd(s,i.prototype);wd(t,ua.prototype);wd(La,j.prototype);wd(ab,i.prototype);wd(bb,ua.prototype);wd(cb,j.prototype);function yd(L,M){return M}function zd(L,M){return[M,L]}function Ad(L){return function(){return!L.apply(this,arguments)}}function Bd(L){return function(){return-L.apply(this,arguments)}}function Cd(L){return typeof L==="string"?JSON.stringify(L):L}function Dd(){return ma(arguments)}function Ed(L,M){return L<M?1:L>M?-1:0}function Fd(L){if(L.size===Infinity)return 0;var M=wa(L),N=l(L),O=M?1:0,P=L.__iterate(N?M?function(Q,R){O=31*O+Hd(v(Q),v(R))|0}:function(Q,R){O=O+Hd(v(Q),v(R))|0}:M?function(Q){O=31*O+v(Q)|0}:function(Q){O=O+v(Q)|0});return Gd(P,O)}function Gd(L,M){M=hb(M,3432918353);M=hb(M<<15|M>>>-15,461845907);M=hb(M<<13|M>>>-13,5);M=(M+3864292196|0)^L;M=hb(M^M>>>16,2246822507);M=hb(M^M>>>13,3266489909);M=ib(M^M>>>16);return M}function Hd(L,M){return L^M+2654435769+(L<<6)+(L>>2)|0}var Id={Iterable:h,Seq:r,Collection:$a,Map:y,OrderedMap:C,List:A,Stack:D,Set:E,OrderedSet:jd,Record:G,Range:I,Repeat:J,is:u,fromJS:db};return Id})}),null);
__d("LoadObject",["invariant","immutable","LoadObjectOperations","Map","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=[undefined,null,false,true,0,""],l="SECRET_"+Math.random(),m=new(c("Map"))(new(c("Map"))(k.map(function(p){return[p,new(c("Map"))([[true,new(c("Map"))()],[false,new(c("Map"))()]])]}))),n=c("immutable").Record({operation:undefined,value:undefined,error:undefined,internalHasValue:false});i=babelHelpers.inherits(o,n);j=i&&i.prototype;function o(p,q,r,s,t){p===l||h(0);j.constructor.call(this,{operation:q,value:r,error:s,internalHasValue:t})}o.$LoadObject1=function(p,q,r,s){var t=o.$LoadObject2(p,q,r,s);return t||new o(l,p,q,r,s)};o.$LoadObject2=function(p,q,r,s){if(r!==undefined||!m.has(q))return null;var t=c("nullthrows")(m.get(q)),u=c("nullthrows")(t.get(s));if(!u.has(p)){var v=new o(l,p,q,r,s);u.set(p,v)}return c("nullthrows")(u.get(p))};o.prototype.getOperation=function(){return this.get("operation")};o.prototype.getValue=function(){return this.get("value")};o.prototype.getValueEnforcing=function(){this.hasValue()||h(0);var p=this.getValue();return p};o.prototype.getError=function(){return this.get("error")};o.prototype.getErrorEnforcing=function(){this.hasError()||h(0);return this.get("error")};o.prototype.hasValue=function(){return!!this.get("internalHasValue")};o.prototype.hasOperation=function(){return this.getOperation()!==undefined};o.prototype.hasError=function(){return this.getError()!==undefined};o.prototype.isEmpty=function(){return!this.hasValue()&&!this.hasOperation()&&!this.hasError()};o.prototype.setOperation=function(p){var q=o.$LoadObject2(p,this.getValue(),this.getError(),this.hasValue());return q||this.set("operation",p)};o.prototype.setValue=function(p){var q=o.$LoadObject2(this.getOperation(),p,this.getError(),true);return q||this.set("value",p).set("internalHasValue",true)};o.prototype.setError=function(p){var q=o.$LoadObject2(this.getOperation(),this.getValue(),p,this.hasValue());return q||this.set("error",p)};o.prototype.removeOperation=function(){var p=this.remove("operation"),q=o.$LoadObject2(p.getOperation(),p.getValue(),p.getError(),p.hasValue());return q||p};o.prototype.removeValue=function(){var p=this.remove("value").remove("internalHasValue"),q=o.$LoadObject2(p.getOperation(),p.getValue(),p.getError(),p.hasValue());return q||p};o.prototype.removeError=function(){var p=this.remove("error"),q=o.$LoadObject2(p.getOperation(),p.getValue(),p.getError(),p.hasValue());return q||p};o.prototype.isCreating=function(){return this.getOperation()===c("LoadObjectOperations").CREATING};o.prototype.isDeleting=function(){return this.getOperation()===c("LoadObjectOperations").DELETING};o.prototype.isDone=function(){return!this.hasOperation()};o.prototype.isLoading=function(){return this.getOperation()===c("LoadObjectOperations").LOADING};o.prototype.isUpdating=function(){return this.getOperation()===c("LoadObjectOperations").UPDATING};o.prototype.creating=function(){return this.setOperation(c("LoadObjectOperations").CREATING)};o.prototype.deleting=function(){return this.setOperation(c("LoadObjectOperations").DELETING)};o.prototype.done=function(){return this.removeOperation()};o.prototype.loading=function(){return this.setOperation(c("LoadObjectOperations").LOADING)};o.prototype.updating=function(){return this.setOperation(c("LoadObjectOperations").UPDATING)};o.prototype.map=function(p){if(!this.hasValue())return this;var q=this.getValueEnforcing(),r=p(q),s=r instanceof o?r:this.setValue(r);return s};o.prototype.mapError=function(p){if(!this.hasError())return this;var q=this.getErrorEnforcing(),r=p(q);return r instanceof o?r:this.setError(r)};o.prototype.match=function(p,q){__p&&__p();if(this.hasOperation()){var r=p.loading;if(this.isCreating()&&p.creating)r=p.creating;else if(this.isUpdating()&&p.updating)r=p.updating;else if(this.isDeleting()&&p.deleting)r=p.deleting;return r(this.value,this.error,q)}if(this.hasError()){if(this.hasValue()&&p.loadedWithError)return c("nullthrows")(p.loadedWithError)(this.getValueEnforcing(),this.getErrorEnforcing(),q);return p.error(this.getErrorEnforcing(),q)}if(this.hasValue())return p.loaded(this.getValueEnforcing(),q);return p.empty?p.empty(q):p.error(new Error("No value"),q)};o.creating=function(){return o.$LoadObject1(c("LoadObjectOperations").CREATING,undefined,undefined,false)};o.deleting=function(){return o.$LoadObject1(c("LoadObjectOperations").DELETING,undefined,undefined,false)};o.empty=function(){return o.$LoadObject1(undefined,undefined,undefined,false)};o.loading=function(){return o.$LoadObject1(c("LoadObjectOperations").LOADING,undefined,undefined,false)};o.updating=function(){return o.$LoadObject1(c("LoadObjectOperations").UPDATING,undefined,undefined,false)};o.withError=function(p){return o.$LoadObject1(undefined,undefined,p,false)};o.withValue=function(p){return o.$LoadObject1(undefined,p,undefined,true)};f.exports=o}),null);
/**
 * License: https://www.facebook.com/legal/license/3OfunpvTMvC/
 */
__d("reselect",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();g.__esModule=true;g.defaultMemoize=j;g.createSelectorCreator=l;g.createStructuredSelector=n;function h(o,p){return o===p}function i(o,p,q){if(p===null||q===null||p.length!==q.length)return false;var r=p.length;for(var s=0;s<r;s++)if(!o(p[s],q[s]))return false;return true}function j(o){var p=arguments.length>1&&arguments[1]!==undefined?arguments[1]:h,q=null,r=null;return function(){if(!i(p,q,arguments))r=o.apply(null,arguments);q=arguments;return r}}function k(o){var p=Array.isArray(o[0])?o[0]:o;if(!p.every(function(r){return typeof r==="function"})){var q=p.map(function(r){return typeof r}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+q+"]"))}return p}function l(o){__p&&__p();for(var p=arguments.length,q=Array(p>1?p-1:0),r=1;r<p;r++)q[r-1]=arguments[r];return function(){__p&&__p();for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];var v=0,w=t.pop(),x=k(t),y=o.apply(undefined,[function(){v++;return w.apply(null,arguments)}].concat(q)),z=j(function(){var A=[],B=x.length;for(var C=0;C<B;C++)A.push(x[C].apply(null,arguments));return y.apply(null,A)});z.resultFunc=w;z.recomputations=function(){return v};z.resetRecomputations=function(){return v=0};return z}}var m=g.createSelector=l(j);function n(o){__p&&__p();var p=arguments.length>1&&arguments[1]!==undefined?arguments[1]:m;if(typeof o!=="object")throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof o);var q=Object.keys(o);return p(q.map(function(r){return o[r]}),function(){for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return s.reduce(function(u,v,w){u[q[w]]=v;return u},{})})}}),null);
__d("fbStoriesRootSelectors",["FBStoriesBucketHelper","idx","reselect"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("reselect").createSelector,i=function i(l,u,v){var w;return v===0?l:(w=u)!=null?w[v-1]:w},j=function j(u){return u.data},k=h([j],function(u){return u.hasValue()?u.getValueEnforcing():{friendsBucketData:[],userBucketData:c("FBStoriesBucketHelper").getDefaultBucket(),userInfo:{}}}),l=h([k],function(k){return k.userBucketData||{}}),m=h([l],function(l){return l&&l.id}),n=h([k],function(k){return k.friendsBucketData||[]}),o=h([n],function(n){return n.map(function(u){return u.id?u.id:""})}),p=h([o,m],function(o,m){return[m].concat(o)}),q=h([k],function(k){return k.userInfo||{}}),r=function r(u){return u.selectedBucketIndex},s=h([r,l,n],function(r,l,n){return i(l,n,r)}),t=h([s],function(s){return s&&s.id});f.exports={userBucketData:l,friendsBucketData:n,friendsBucketIds:o,userInfo:q,bucketIds:p,selectedBucket:s,selectedBucketId:t}}),null);
__d("fbStoriesStateSelectors",["FBStoriesBucketHelper","fbStoriesRootSelectors","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("fbStoriesRootSelectors").userBucketData,i=c("fbStoriesRootSelectors").friendsBucketData,j=c("fbStoriesRootSelectors").bucketIds,k=c("fbStoriesRootSelectors").selectedBucketId,l={bucketByBucketId:function m(n,o){var p=l.bucketIndexByBucketId(n,o);return l.bucketByIndex(n,p)},bucketByIndex:function m(n,o){var p;return o===0?h(n):(p=i(n))!=null?p[o-1]:p},bucketIndexByBucketId:function m(n,o){var p=j(n);return p.indexOf(o)},isOwnBucket:function m(n,o){return(o!=undefined?o:k(n))===c("FBStoriesBucketHelper").getId(h(n))}};f.exports=l}),null);
__d("FBStoriesStore",["BackstageMediaType","CameraPostMediaHelper","CameraPostTypes","FBStoriesActionTypes","FBStoriesBucketHelper","FBStoriesDataHelper","FBStoriesDispatcher","FBStoriesLiveVideoActionTypes","FBStoriesThreadHelper","FluxReduceStore","LoadObject","Map","SubscribeStatuses","fbStoriesRootSelectors","fbStoriesStateSelectors","friendsBucketSorter","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{data:c("LoadObject").empty(),selectedBucketIndex:-1,currentThreadIndex:-1,unseenMode:false,allBucketsViewed:false,lastViewedThreadIndexForBucket:new(c("Map"))(),showSATPNativeRender:false,enableVideoPerfTests:false,isCommercialBreakRunning:new(c("Map"))(),isViewerOpen:false}};j.prototype.reduce=function(k,l){__p&&__p();var m,n=this,o,p,q,r;switch(l.type){case c("FBStoriesActionTypes").LOADING:return babelHelpers["extends"]({},k,{data:c("LoadObject").loading()});case c("FBStoriesActionTypes").LOADED:var s=l.data,t=s.userInfo,u=s.userBucketData,v=s.friendsBucketData;v=c("FBStoriesDataHelper").getFriendsDataWithEndedLiveBucket(v,this.$FBStoriesStore1(),this.isOwnBucket(this.getSelectedBucketId()));return babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userInfo:t,userBucketData:u,friendsBucketData:v})});case c("FBStoriesActionTypes").VIEWER_LIST_LOADED_FOR_THREAD:var m=function(){__p&&__p();var I=l.data.node,u=babelHelpers["extends"]({},n.getUserBucketData(),{threads:{nodes:n.$FBStoriesStore2().map(function(J){if(c("FBStoriesThreadHelper").getId(J)===l.threadID){var K=babelHelpers["extends"]({},J);c("FBStoriesThreadHelper").setFriendsSeenCount(K,c("FBStoriesThreadHelper").getFriendsSeenCount(I));c("FBStoriesThreadHelper").setFollowersSeenCount(K,c("FBStoriesThreadHelper").getFollowersSeenCount(I));c("FBStoriesThreadHelper").setViewers(K,c("FBStoriesThreadHelper").getViewers(I));return K}return J})}});return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:u,userInfo:n.getUserInfo(),friendsBucketData:n.getFriendsBucketData()})})}}();if(typeof m==="object")return m.v;case c("FBStoriesActionTypes").SUBSCRIPTION_BUCKET_UPDATE:var o=function(){__p&&__p();var I=l.bucketData,J=c("FBStoriesBucketHelper").getThreads(I),K=J.length>0||c("FBStoriesBucketHelper").isLive(I),L=c("FBStoriesBucketHelper").getOwnerSubscribeStatus(I)===c("SubscribeStatuses").IS_SUBSCRIBED,M=c("FBStoriesBucketHelper").getId(I),N=c("fbStoriesRootSelectors").friendsBucketData(k),O=false,v=N.reduce(function(B,P){if(c("FBStoriesBucketHelper").getId(P)===M){O=true;if(K&&L)B.push(I)}else B.push(P);return B},[]);if(!O&&K)v=[I].concat(N);v=c("FBStoriesDataHelper").getFriendsDataWithEndedLiveBucket(v,c("fbStoriesRootSelectors").selectedBucket(k),c("fbStoriesStateSelectors").isOwnBucket(k,c("fbStoriesRootSelectors").selectedBucketId(k)));v.sort(c("friendsBucketSorter")(c("fbStoriesRootSelectors").userInfo(k).userID));return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:c("fbStoriesRootSelectors").userBucketData(k),userInfo:c("fbStoriesRootSelectors").userInfo(k),friendsBucketData:v})})}}();if(typeof o==="object")return o.v;case c("FBStoriesActionTypes").LOADED_ERROR:return babelHelpers["extends"]({},k,{data:c("LoadObject").withError(new Error(l.error.errorSummary))});case c("FBStoriesActionTypes").RESET_LOCAL_SEEN_HISTORY:return babelHelpers["extends"]({},k,{lastViewedThreadIndexForBucket:new(c("Map"))()});case c("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED:var w=l.bucketIndex;return w<0||w>=this.getBucketCount()?k:babelHelpers["extends"]({},k,{selectedBucketIndex:w});case c("FBStoriesActionTypes").SELECTED_THREAD_IDX_CHANGED:var x=this.getThreadCountForSelectedBucket();if(!this.isSelectedBucketLive()&&(l.index<0||l.index>=x))return k;var y=new(c("Map"))(k.lastViewedThreadIndexForBucket);y.set(this.getSelectedBucketIndex(),l.index);return babelHelpers["extends"]({},k,{lastViewedThreadIndexForBucket:y,currentThreadIndex:l.index});case c("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED:var z=l.value;if(z===k.allBucketsViewed)return k;return babelHelpers["extends"]({},k,{allBucketsViewed:z,unseenMode:k.unseenMode&&z?false:k.unseenMode});case c("FBStoriesActionTypes").SET_UNSEEN_MODE:return babelHelpers["extends"]({},k,{unseenMode:l.value});case c("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC:var A=this.getSelectedBucketId(),B=this.getFriendsBucketData().map(function(I){__p&&__p();var J,K=this;if(c("FBStoriesBucketHelper").getId(I)===A){var J=function(){__p&&__p();var L=c("FBStoriesBucketHelper").getUnseenCount(I),M=K.$FBStoriesStore3(I).map(function(O){if(c("FBStoriesThreadHelper").getId(O)===l.threadID){if(!c("FBStoriesThreadHelper").isSeenByViewer(O))L=Math.max(L-1,0);var P=babelHelpers["extends"]({},O);c("FBStoriesThreadHelper").setIsSeenByViewer(P,true);return P}else return O}),N=babelHelpers["extends"]({},I);c("FBStoriesBucketHelper").setUnseenCount(N,L);c("FBStoriesBucketHelper").setThreads(N,M);return{v:N}}();if(typeof J==="object")return J.v}else return I}.bind(this));return babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:this.getUserBucketData(),userInfo:this.getUserInfo(),friendsBucketData:B})});case c("FBStoriesActionTypes").UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC:var C=babelHelpers["extends"]({},this.getUserBucketData(),{threads:{nodes:this.$FBStoriesStore2().map(function(I){if(c("FBStoriesThreadHelper").getId(I)===l.threadID){var J=babelHelpers["extends"]({},I);c("FBStoriesThreadHelper").setSeenReceiptsLastSeenTime(J,Date.now());c("FBStoriesThreadHelper").setSeenReceiptsUnseenCount(J,0);return J}else return I})}});return babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:C,userInfo:this.getUserInfo(),friendsBucketData:this.getFriendsBucketData()})});case c("FBStoriesActionTypes").DELETE_THREAD_FROM_BUCKET:var p=function(){__p&&__p();var I=l.threadID,J=l.bucketID;if(!n.isUserManagedThread(I,J))return{v:k};var u=n.getUserBucketData(),B=null;if(J===c("FBStoriesBucketHelper").getId(u)){c("FBStoriesBucketHelper").setThreads(u,n.$FBStoriesStore3(u).filter(function(K){return c("FBStoriesThreadHelper").getId(K)!==I}));B=n.getFriendsBucketData()}else B=n.getFriendsBucketData().map(function(K){if(c("FBStoriesBucketHelper").getId(K)===J){var L=this.$FBStoriesStore3(K).filter(function(N){return c("FBStoriesThreadHelper").getId(N)!==I}),M=babelHelpers["extends"]({},K);c("FBStoriesBucketHelper").setThreads(M,L);return M}else return K}.bind(n)).filter(function(K){return this.$FBStoriesStore3(K).length>0}.bind(n));var y=k.lastViewedThreadIndexForBucket;if(I===n.getCurrentThreadIDForSelectedBucket()){y=new(c("Map"))(y);y.set(n.getSelectedBucketIndex(),undefined)}return{v:babelHelpers["extends"]({},k,{lastViewedThreadIndexForBucket:y,data:c("LoadObject").withValue({userBucketData:u,friendsBucketData:B,userInfo:n.getUserInfo()})})}}();if(typeof p==="object")return p.v;case c("FBStoriesActionTypes").REMOVE_BUCKET:var q=function(){var I=l.bucketID,B=n.getFriendsBucketData().filter(function(J){return c("FBStoriesBucketHelper").getId(J)!==I});return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:n.getUserBucketData(),friendsBucketData:B,userInfo:n.getUserInfo()})})}}();if(typeof q==="object")return q.v;case c("FBStoriesActionTypes").SET_SATP_NATIVE_RENDER:return babelHelpers["extends"]({},k,{showSATPNativeRender:l.value});case c("FBStoriesLiveVideoActionTypes").LIVE_BUCKET_LOADED:var D=l.data,E=c("FBStoriesDataHelper").getFriendsBucketDataFromLoadedObject(D),F=[].concat(this.getFriendsBucketData()),G=E.reduce(function(I,J){if(this.$FBStoriesStore4(J)&&this.getBucketIndexByBucketId(c("FBStoriesBucketHelper").getId(J))===-1)I.push(J);return I}.bind(this),F);return babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:this.getUserBucketData(),userInfo:this.getUserInfo(),friendsBucketData:G})});case c("FBStoriesActionTypes").REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET:var r=function(){var I=l.bucketID,B=n.getFriendsBucketData().map(function(J){if(c("FBStoriesBucketHelper").getId(J)===I){c("FBStoriesBucketHelper").setLiveVideo(J,null);c("FBStoriesBucketHelper").setHasLiveVideoEnded(J,false)}return J});return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:n.getUserBucketData(),friendsBucketData:B,userInfo:n.getUserInfo()})})}}();if(typeof r==="object")return r.v;case c("FBStoriesActionTypes").SET_IS_COMMERCIAL_BREAK_RUNNING:var H=new(c("Map"))(this.getState().isCommercialBreakRunning);return babelHelpers["extends"]({},k,{isCommercialBreakRunning:H.set(l.videoID,l.isCommercialBreakRunning)});case c("FBStoriesActionTypes").UNSELECT_BUCKET:return babelHelpers["extends"]({},k,{selectedBucketIndex:-1,currentThreadIndex:-1});case c("FBStoriesActionTypes").SET_ENABLE_VIDEO_PERF_TESTS:return babelHelpers["extends"]({},k,{enableVideoPerfTests:l.value});case c("FBStoriesActionTypes").SET_VIEWER_OPEN:return babelHelpers["extends"]({},k,{isViewerOpen:l.value});default:return k}};j.prototype.$FBStoriesStore5=function(){var k=this.getState().data;return k.hasValue()?k.getValueEnforcing():{friendsBucketData:[],userBucketData:c("FBStoriesBucketHelper").getDefaultBucket(),userInfo:{}}};j.prototype.getUserBucketData=function(){return this.$FBStoriesStore5().userBucketData||{}};j.prototype.getUserInfo=function(){return this.$FBStoriesStore5().userInfo||{}};j.prototype.getFriendsBucketData=function(){return this.$FBStoriesStore5().friendsBucketData||[]};j.prototype.isLoading=function(){return this.getState().data.isLoading()};j.prototype.getBucketIds=function(){var k=this.getFriendsBucketData().map(function(m){return m.id?m.id:""}),l=this.getUserBucketData().id||"";return[l].concat(k)};j.prototype.getSelectedBucketIndex=function(){return this.getState().selectedBucketIndex};j.prototype.getSelectedBucketId=function(){return this.getBucketIds()[this.getSelectedBucketIndex()]};j.prototype.areAllBucketsViewed=function(){return this.getState().allBucketsViewed};j.prototype.getCameraPostTypeForBucketId=function(k){return c("FBStoriesBucketHelper").getCameraPostType(this.$FBStoriesStore6(k))};j.prototype.doesBucketContainThreadId=function(k,l){var m=this.$FBStoriesStore6(k),n=c("FBStoriesBucketHelper").getThreads(m);return n.find(function(o){return c("FBStoriesThreadHelper").getId(o)===l})!==undefined};j.prototype.$FBStoriesStore6=function(k){return this.getBucketByIndex(this.getBucketIndexByBucketId(k))};j.prototype.getBucketIndexByBucketId=function(k){return this.getBucketIds().indexOf(k)};j.prototype.getSelectedBucketCameraPostType=function(){return c("FBStoriesBucketHelper").getCameraPostType(this.$FBStoriesStore1())};j.prototype.getSelectedBucketOwner=function(){return c("FBStoriesBucketHelper").getOwner(this.$FBStoriesStore1())};j.prototype.getSelectedBucketOwnerID=function(){return c("FBStoriesBucketHelper").getOwnerId(this.$FBStoriesStore1())};j.prototype.getSelectedBucketUnseenCount=function(){return c("FBStoriesBucketHelper").getUnseenCount(this.$FBStoriesStore1())};j.prototype.getThreadsForSelectedBucket=function(){return this.$FBStoriesStore3(this.$FBStoriesStore1())};j.prototype.getCurrentThreadIndexForSelectedBucket=function(){return this.getState().currentThreadIndex};j.prototype.getCurrentThreadIDForSelectedBucket=function(){return c("FBStoriesThreadHelper").getId(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadCameraPostTypeForSelectedBucket=function(){return this.isSelectedBucketLive()?c("CameraPostTypes").STORY:c("FBStoriesThreadHelper").getCameraPostType(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadMediaTypeForSelectedBucket=function(){return this.isSelectedBucketLive()?c("BackstageMediaType").LIVE:c("FBStoriesThreadHelper").getMediaType(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadMediaIDForSelectedBucket=function(){if(this.isSelectedBucketLive()){var k=this.getThreadDataForSelectedLiveBucket();return k&&k.media.id}return c("FBStoriesThreadHelper").getMediaId(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadMediaViewerCountForSelectedBucket=function(){var k=this.getCurrentThreadForSelectedBucket();return c("FBStoriesThreadHelper").getFollowersSeenCount(k)+c("FBStoriesThreadHelper").getFriendsSeenCount(k)};j.prototype.getCurrentThreadForSelectedBucket=function(){return this.getThreadsForSelectedBucket()[this.getCurrentThreadIndexForSelectedBucket()]};j.prototype.getCurrentThreadData=function(){if(this.isSelectedBucketLive())return this.getThreadDataForSelectedLiveBucket();return this.$FBStoriesStore7(this.getState().currentThreadIndex)};j.prototype.shouldDisableReply=function(){var k=this.isOwnThread(),l=c("FBStoriesBucketHelper").isViewerFriendOfOwner(this.$FBStoriesStore1()),m=c("FBStoriesThreadHelper").isViewerFriendOfOwner(this.getCurrentThreadForSelectedBucket());return k||!l&&!m||this.isSelectedBucketLive()};j.prototype.getFollowersSeenCount=function(){return c("FBStoriesThreadHelper").getFollowersSeenCount(this.getCurrentThreadForSelectedBucket())};j.prototype.getFriendsSeenCount=function(){return c("FBStoriesThreadHelper").getFriendsSeenCount(this.getCurrentThreadForSelectedBucket())};j.prototype.isOwnBucket=function(k){return(k!=undefined?k:this.getSelectedBucketId())===c("FBStoriesBucketHelper").getId(this.getUserBucketData())};j.prototype.isOwnThread=function(){if(this.isOwnBucket())return true;var k=this.getCurrentThreadForSelectedBucket(),l=c("FBStoriesThreadHelper").getOwnerId(k);return l===this.getUserInfo().userID};j.prototype.isBucketViewerEventHost=function(){var k=this.$FBStoriesStore1();return c("FBStoriesBucketHelper").isViewerEventHost(k)};j.prototype.isCurrentThreadUserManaged=function(){return this.isUserManagedThread(this.getCurrentThreadIDForSelectedBucket()||"",this.getSelectedBucketId())};j.prototype.isUserManagedThread=function(k,l){var m=this.$FBStoriesStore6(l);if(!m)return false;var n=this.$FBStoriesStore8(k,m),o=c("FBStoriesThreadHelper").getOwnerId(n);return n&&(o===this.getUserInfo().userID||c("FBStoriesBucketHelper").getId(m)===c("FBStoriesBucketHelper").getId(this.getUserBucketData())||c("FBStoriesBucketHelper").isViewerEventHost(m)||c("FBStoriesBucketHelper").isViewerPageContentAdmin(m))||false};j.prototype.getBucketCount=function(){return this.getFriendsBucketData().length+1};j.prototype.hasDataInSelectedBucket=function(){return c("FBStoriesBucketHelper").hasData(this.$FBStoriesStore1())};j.prototype.hasOwnBucketViewers=function(){if(this.userBucketIsLive())return false;var k=this.$FBStoriesStore2(),l=k.filter(function(m){return c("FBStoriesThreadHelper").getSeenReceiptsUnseenCount(m)>0});return l.length>0};j.prototype.hasOwnBucketContent=function(){return this.$FBStoriesStore2().length>0||this.userBucketIsLive()};j.prototype.getThreadCountForSelectedBucket=function(){return this.getThreadsForSelectedBucket().length};j.prototype.userBucketIsLive=function(){return this.$FBStoriesStore4(this.getUserBucketData())};j.prototype.isSelectedBucketLive=function(){return this.$FBStoriesStore4(this.$FBStoriesStore1())};j.prototype.getSelectedBucketOwnerType=function(){return c("FBStoriesBucketHelper").getLoggingType(this.$FBStoriesStore1())};j.prototype.$FBStoriesStore4=function(k){return c("FBStoriesBucketHelper").isLive(k)};j.prototype.getCurrentThreadViewers=function(){__p&&__p();var k={hasNewViewers:false,hasNewFriendViewers:false,hasNewConnectionsViewers:false,friends:[],connections:[],totalCount:0,totalNew:0,followersCount:0};if(!this.isOwnThread())return k;var l=this.getCurrentThreadForSelectedBucket(),m=c("FBStoriesThreadHelper").getViewers(l),n=this.getUserInfo().userID;k=m.reduce(function(p,q){__p&&__p();var r=c("FBStoriesThreadHelper").getStoryViewerId(q);if(r!==n){var s,t=((s=q)!=null?(s=s.node)!=null?s.is_viewer_friend:s:s)||false,u=t?"friends":"connections",v=c("FBStoriesThreadHelper").getStoryViewerSeenTime(q),w=v>=c("FBStoriesThreadHelper").getSeenReceiptsLastSeenTime(l);p[u].push(babelHelpers["extends"]({},q.node,{seenTime:v,isNewViewer:w}));p.totalNew+=w?1:0;p.hasNewViewers=p.hasNewViewers||w;p.hasNewFriendViewers=p.hasNewFriendViewers||w&&t;p.hasNewConnectionsViewers=p.hasNewViewers||w&&!t}return p},k);var o=this.getFollowersSeenCount();return Object.assign(k,{totalCount:o+m.length,followersCount:o})};j.prototype.isUnseenMode=function(){return this.getState().unseenMode};j.prototype.getThreadCount=function(k){__p&&__p();var l=this.getBucketByIndex(k);if(this.$FBStoriesStore4(l))return 0;if(k===0){var m=this.$FBStoriesStore3(this.getUserBucketData());return m.length}if(k>0){var n=this.$FBStoriesStore3(l);return n.length}return-1};j.prototype.getUnseenThreadIndex=function(k){return c("FBStoriesBucketHelper").getUnseenThreadIndex(this.getBucketByIndex(k))};j.prototype.getAllowedNavigationType=function(){var k=this.getSelectedBucketIndex(),l=k===0||k==1&&!c("FBStoriesBucketHelper").hasData(this.getUserBucketData()),m=k===this.getBucketCount()-1,n=l&&this.getCurrentThreadIndexForSelectedBucket()==0,o=m&&this.getCurrentThreadIndexForSelectedBucket()===this.getThreadsForSelectedBucket().length-1;if(n)return"NEXT_ONLY";if(o)return"PREV_ONLY";return"BOTH"};j.prototype.hasSeenBucketInCurrentSession=function(k){var l=this.getState().lastViewedThreadIndexForBucket;return l.get(k)!==undefined};j.prototype.getLastSeenThreadIndexForBucket=function(k){var l=this.getState().lastViewedThreadIndexForBucket,m=l.get(k);return m==undefined?0:m};j.prototype.$FBStoriesStore2=function(){return this.$FBStoriesStore3(this.getUserBucketData())};j.prototype.$FBStoriesStore1=function(){return this.getBucketByIndex(this.getSelectedBucketIndex())};j.prototype.getBucketByIndex=function(k){var l;return k===0?this.getUserBucketData():(l=this.getFriendsBucketData())!=null?l[k-1]:l};j.prototype.$FBStoriesStore8=function(k,l){var m=this.$FBStoriesStore3(l),n=m.filter(function(o){return o.id===k});return n.length>0?n[0]:null};j.prototype.$FBStoriesStore3=function(k){return c("FBStoriesBucketHelper").getThreads(k)};j.prototype.$FBStoriesStore7=function(k){var l=this.getSelectedBucketOwner(),m=this.getThreadsForSelectedBucket()[k];if(!m)return null;var n=c("FBStoriesThreadHelper").getMedia(m),o=c("FBStoriesThreadHelper").getWWWTextFormatMetadata(m),p=c("FBStoriesThreadHelper").getMessageText(m);return{isLive:false,media:n,bucketOwner:l,threadOwner:c("FBStoriesThreadHelper").getOwner(m)||{name:null,id:null,is_viewer_friend:false,profile_picture:null},participants:[],isSeen:c("FBStoriesThreadHelper").isSeenByViewer(m),latestMessageID:c("FBStoriesThreadHelper").getLatestMessageID(m),time:c("FBStoriesThreadHelper").getTime(m),threadID:c("FBStoriesThreadHelper").getId(m),cameraPostType:c("FBStoriesThreadHelper").getCameraPostType(m),cameraPostSource:c("FBStoriesThreadHelper").getCameraPostSource(m),wwwTextFormatMetadata:o,messageText:p}};j.prototype.getThreadDataForSelectedLiveBucket=function(){var k=this.$FBStoriesStore1();return this.$FBStoriesStore9(k)};j.prototype.$FBStoriesStore9=function(k){if(!k)return null;var l=c("FBStoriesBucketHelper").getLiveVideo(k);if(!l||!this.$FBStoriesStore4(k))return null;var m=this.getSelectedBucketOwner();return{isLive:true,media:l,bucketOwner:m,isSeen:false,cameraPostType:c("FBStoriesBucketHelper").getCameraPostType(k)}};j.prototype.isSelectedBucketLiveAndEnded=function(){return this.isSelectedBucketLive()&&c("FBStoriesBucketHelper").hasLiveVideoEnded(this.$FBStoriesStore1())};j.prototype.getSATPNativeRender=function(){return this.getState().showSATPNativeRender};j.prototype.getVideoPerfTestsEnabled=function(){return this.getState().enableVideoPerfTests};j.prototype.getIsCommercialBreakRunning=function(k){return!!this.getState().isCommercialBreakRunning.get(k)};j.prototype.getVideoMediaIdForBucketIndexAndThreadIndex=function(k,l){__p&&__p();var m=this.getBucketByIndex(k);if(!m)return null;if(this.$FBStoriesStore4(m)){var n,o=this.$FBStoriesStore9(m);return(n=o)!=null?(n=n.media)!=null?n.id:n:n}var p=this.$FBStoriesStore3(m);if(l<0||l>=p.length)return null;var q=c("FBStoriesThreadHelper").getMedia(p[l]);if(!q)return null;if(!c("CameraPostMediaHelper").isVideo(q))return null;return q.id};j.prototype.isViewerOpen=function(){return this.getState().isViewerOpen};function j(){h.apply(this,arguments)}f.exports=new j(c("FBStoriesDispatcher"))}),null);
__d("FBStoriesVisibilityHelper",["FBStoriesActionTypes","FBStoriesDataHelper","FBStoriesDispatcher","FBStoriesGraphQLAPI","FBStoriesStore","Visibility","emptyFunction","throttle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=false,i=60,j={addListenerToReloadDataOnVisible:function k(l){if(h)return;if(l===undefined)l=this._defaultDataLoad.bind(this);c("Visibility").addListener(c("Visibility").VISIBLE,c("throttle").withBlocking(function(){if(c("FBStoriesStore").isLoading()===false&&c("FBStoriesStore").isViewerOpen()===false)if(l!==undefined)l()},i*1e3));h=true},_defaultDataLoad:function k(){c("FBStoriesGraphQLAPI").load().done(function(l){var m=c("FBStoriesDataHelper").getBucketsDataFromLoadedObject(l);c("FBStoriesDispatcher").dispatch({type:c("FBStoriesActionTypes").LOADED,data:m})},function(l){return c("emptyFunction")})}};f.exports=j}),null);
__d("FBStoriesAppController",["Bootloader","FBStoriesActionTypes","FBStoriesDataHelper","FBStoriesVisibilityHelper","FBStoriesDispatcher","FBStoriesGraphQLAPI","idx","FBStoriesStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBStoriesDispatcher").dispatch;f.exports={init:function i(j){__p&&__p();c("FBStoriesDispatcher").explicitlyRegisterStores([c("FBStoriesStore")]);h({type:c("FBStoriesActionTypes").LOADING});var k=j.preloader;k.onLoaded(function(l){var m=l.result,n=c("FBStoriesDataHelper").getBucketsDataFromLoadedObject(m.data);c("Bootloader").loadModules(["FBStoriesLoggingHelper"],function(o){o.logStoryTrayLoad(n)},"FBStoriesAppController");h({type:c("FBStoriesActionTypes").LOADED,data:n})});k.onError(function(l){return h({type:c("FBStoriesActionTypes").LOADED_ERROR,error:l})});c("FBStoriesGraphQLAPI").subscribeToTrayChanges(function(l){var m;h({type:c("FBStoriesActionTypes").SUBSCRIPTION_BUCKET_UPDATE,bucketData:(m=l)!=null?(m=m.stories_tray_subscribe)!=null?m.bucket:m:m})});c("FBStoriesVisibilityHelper").addListenerToReloadDataOnVisible();h({type:c("FBStoriesActionTypes").SET_SATP_NATIVE_RENDER,value:j.showSATPNativeRender});h({type:c("FBStoriesActionTypes").SET_ENABLE_VIDEO_PERF_TESTS,value:j.enableVideoPerfTests})}}}),null);
__d("FBStoriesVerticalLayout.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=3,m=48+8,n=l*m;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={seeMore:false},this.$FBStoriesVerticalLayout1=function(){return this.setState({seeMore:true})}.bind(this),q}o.prototype.render=function(){var p=this.props.children,q=c("React").Children.count(p),r=this.state.seeMore?q*m:Math.min(q*m,n),s=!this.state.seeMore&&q>l,t=c("React").createElement("div",{key:"list",className:"_1fvt"+(this.props.showPreviews?" with-preview":"")+" vertical"+(this.state.seeMore?" seeMore":""),style:{maxHeight:r}},p),u=s&&c("React").createElement("a",{key:"link",className:"_31yr",href:"#",onClick:this.$FBStoriesVerticalLayout1},c("React").createElement("span",{className:"_jyz"}),i._("Ver m\u00e1s"));return[t,u]};f.exports=o}),null);
__d("FBStoriesCameraActionTypes",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({SET_IS_CAMERA_DIALOG_OPEN:"SET_IS_CAMERA_DIALOG_OPEN",SET_MEDIASTREAM:"SET_MEDIASTREAM",SET_VIDEOSOURCE:"SET_VIDEOSOURCE"});f.exports=h}),null);
__d("FBStoriesCameraDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("FBStoriesCameraActions",["invariant","emptyFunction","FBStoriesCameraActionTypes","FBStoriesCameraDispatcher"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={closeCameraDialog:function j(){i.setIsCameraDialogOpen(false)},openCameraDialog:function j(){i.setIsCameraDialogOpen(true)},setIsCameraDialogOpen:function j(k){c("FBStoriesCameraDispatcher").dispatch({type:c("FBStoriesCameraActionTypes").SET_IS_CAMERA_DIALOG_OPEN,isCameraDialogOpen:k})},setMediaStream:function j(k){c("FBStoriesCameraDispatcher").dispatch({type:c("FBStoriesCameraActionTypes").SET_MEDIASTREAM,mediaStream:k})},setVideoSource:function j(k){c("FBStoriesCameraDispatcher").dispatch({type:c("FBStoriesCameraActionTypes").SET_VIDEOSOURCE,videoSource:k})},startCameraStream:function j(){var k=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;k||h(0);k.call(navigator,{video:true,audio:true},function(l){if(l.getVideoTracks().length>0){var m=window.URL.createObjectURL(l);i.setVideoSource(m);i.setMediaStream(l)}},c("emptyFunction"))},stopCameraStream:function j(k,l){__p&&__p();if(k instanceof MediaStream){k.getVideoTracks().forEach(function(m){return m.stop()});k.getAudioTracks().forEach(function(m){return m.stop()})}if(l){window.URL.revokeObjectURL(l);i.setVideoSource(undefined)}}};f.exports=i}),null);
__d("FBStoriesCameraMedia.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){if(this.props.videoSource)return c("React").createElement("video",{autoPlay:true,loop:true,muted:true,className:"_3yws",src:this.props.videoSource});return c("React").createElement("span",null,"Webcam is starting up...")};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBStoriesCameraStore",["FBStoriesCameraActionTypes","FBStoriesCameraDispatcher","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;h=babelHelpers.inherits(l,c("immutable").Record({isCameraDialogOpen:undefined,mediaStream:undefined,videoSource:undefined}));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxReduceStore"));k=j&&j.prototype;m.prototype.getInitialState=function(){return new l()};m.prototype.reduce=function(n,o){switch(o.type){case c("FBStoriesCameraActionTypes").SET_IS_CAMERA_DIALOG_OPEN:return n.set("isCameraDialogOpen",o.isCameraDialogOpen);case c("FBStoriesCameraActionTypes").SET_MEDIASTREAM:return n.set("mediaStream",o.mediaStream);case c("FBStoriesCameraActionTypes").SET_VIDEOSOURCE:return n.set("videoSource",o.videoSource);default:return n}};m.prototype.getIsCameraDialogOpen=function(){return this.getState().isCameraDialogOpen};m.prototype.getMediaStream=function(){return this.getState().mediaStream};m.prototype.getVideoSource=function(){return this.getState().videoSource};function m(){j.apply(this,arguments)}f.exports=new m(c("FBStoriesCameraDispatcher"))}),null);
__d("FBStoriesCameraMediaContainer.react",["FBStoriesCameraActions","FBStoriesCameraStore","FBStoriesCameraMedia.react","FluxContainer","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("FBStoriesCameraStore")]};j.calculateState=function(){return{mediaStream:c("FBStoriesCameraStore").getMediaStream(),videoSource:c("FBStoriesCameraStore").getVideoSource()}};j.prototype.componentWillMount=function(){c("FBStoriesCameraActions").startCameraStream()};j.prototype.componentWillUnmount=function(){c("FBStoriesCameraActions").stopCameraStream(this.state.mediaStream,this.state.videoSource)};j.prototype.render=function(){return c("React").createElement(c("FBStoriesCameraMedia.react"),{videoSource:this.state.videoSource})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("FBStoriesCameraDialog.react",["fbt","FBStoriesCameraActions","FBStoriesCameraMediaContainer.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=600,l=h._("C\u00e1mara de Facebook");i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){if(!this.props.isCameraDialogOpen)return null;return c("React").createElement(c("XUIDialog.react"),{hideOnEscape:true,isStrictlyControlled:true,label:l,onBlur:c("FBStoriesCameraActions").closeCameraDialog,onHide:c("FBStoriesCameraActions").closeCameraDialog,overflow:"hidden",shown:this.props.isCameraDialogOpen,width:k},c("React").createElement(c("XUIDialogTitle.react"),null,l),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("FBStoriesCameraMediaContainer.react"),null)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",onClick:c("FBStoriesCameraActions").closeCameraDialog,use:"confirm"})))};function m(){i.apply(this,arguments)}f.exports=m}),null);
__d("FBStoriesCameraDialogContainer.react",["FBStoriesCameraStore","FBStoriesCameraDialog.react","FluxContainer","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("FBStoriesCameraStore")]};j.calculateState=function(){return{isCameraDialogOpen:c("FBStoriesCameraStore").getIsCameraDialogOpen()}};j.prototype.render=function(){return c("React").createElement(c("FBStoriesCameraDialog.react"),{isCameraDialogOpen:this.state.isCameraDialogOpen})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("FBStoryAddStoryItem.react",["cx","fbt","FBStoriesCameraActions","FBStoriesCameraDialogContainer.react","Image.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_48if"},this.$FBStoryAddStoryItem1(),this.$FBStoryAddStoryItem2(),this.$FBStoryAddStoryItem3())};l.prototype.$FBStoryAddStoryItem1=function(){var m=c("React").createElement(c("Image.react"),{src:this.props.imageUrl,className:"_64x7"}),n=c("React").createElement("div",{className:"_64x8"});return c("React").createElement(c("ShimButton.react"),{className:"_64x9",onClick:c("FBStoriesCameraActions").openCameraDialog,onKeyPress:c("FBStoriesCameraActions").openCameraDialog},m,n)};l.prototype.$FBStoryAddStoryItem2=function(){return c("React").createElement("div",{className:"_64xa"},c("React").createElement("span",{className:"_64xb"},i._("A\u00f1adir historia")))};l.prototype.$FBStoryAddStoryItem3=function(){return c("React").createElement(c("FBStoriesCameraDialogContainer.react"),null)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("DateStrings",["fbt"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r={getWeekdayName:function s(t){if(!n)n=[h._("Domingo"),h._("Lunes"),h._("Martes"),h._("Mi\u00e9rcoles"),h._("Jueves"),h._("Viernes"),h._("s\u00e1bado")];return n[t]},getUppercaseWeekdayName:function s(t){if(!p)p=[h._("DOMINGO"),h._("LUNES"),h._("MARTES"),h._("MI\u00c9RCOLES"),h._("JUEVES"),h._("VIERNES"),h._("S\u00c1BADO")];return p[t]},getWeekdayNameShort:function s(t){if(!o)o=[h._("dom"),h._("lun"),h._("mar"),h._("mi\u00e9"),h._("jue"),h._("vie"),h._("s\u00e1b")];return o[t]},getUppercaseWeekdayNameShort:function s(t){if(!q)q=[h._("DOM"),h._("LUN"),h._("MAR"),h._("MI\u00c9"),h._("JUE"),h._("VIE"),h._("S\u00c1B")];return q[t]},_initializeMonthNames:function s(){i=[h._("enero"),h._("febrero"),h._("marzo"),h._("abril"),h._("mayo"),h._("junio"),h._("julio"),h._("agosto"),h._("septiembre"),h._("octubre"),h._("noviembre"),h._("diciembre")]},getMonthName:function s(t){if(!i)r._initializeMonthNames();return i[t-1]},getMonthNames:function s(){if(!i)r._initializeMonthNames();return i.slice()},getUppercaseMonthName:function s(t){if(!l)l=[h._("ENERO"),h._("FEBRERO"),h._("MARZO"),h._("ABRIL"),h._("MAY"),h._("JUNIO"),h._("JULIO"),h._("AGOSTO"),h._("SEPTIEMBRE"),h._("OCTUBRE"),h._("NOVIEMBRE"),h._("DICIEMBRE")];return l[t-1]},getMonthNameShort:function s(t){if(!j)j=[h._("ene"),h._("feb"),h._("mar"),h._("abr"),h._("may"),h._("jun"),h._("jul"),h._("ago"),h._("sep"),h._("oct"),h._("nov"),h._("dic")];return j[t-1]},getUppercaseMonthNameShort:function s(t){if(!k)k=[h._("ENE"),h._("FEB"),h._("MAR"),h._("ABR"),h._("MAY"),h._("JUN"),h._("JUL"),h._("AGO"),h._("SEP"),h._("OCT"),h._("NOV"),h._("DIC")];return k[t-1]},getOrdinalSuffix:function s(t){if(!m)m=["",h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st")];return m[t]},getDayOfMonth:function s(t){__p&&__p();switch(t){case 1:return h._("1");case 2:return h._("2");case 3:return h._("3");case 4:return h._("4");case 5:return h._("5");case 6:return h._("6");case 7:return h._("7");case 8:return h._("8");case 9:return h._("9");case 10:return h._("10");case 11:return h._("11");case 12:return h._("12");case 13:return h._("13");case 14:return h._("14");case 15:return h._("15");case 16:return h._("16");case 17:return h._("17");case 18:return h._("18");case 19:return h._("19");case 20:return h._("20");case 21:return h._("21");case 22:return h._("22");case 23:return h._("23");case 24:return h._("24");case 25:return h._("25");case 26:return h._("26");case 27:return h._("27");case 28:return h._("28");case 29:return h._("29");case 30:return h._("30");case 31:return h._("31");default:throw new Error("Invalid day of month.")}},getDayLabel:function s(){return h._("D\u00eda:")},getMonthLabel:function s(){return h._("Mes:")},getYearLabel:function s(){return h._("A\u00f1o:")},getDayPlaceholder:function s(){return h._("dd")},getMonthPlaceholder:function s(){return h._("mm")},getYearPlaceholder:function s(){return h._("aaaa")},getHourPlaceholder:function s(){return h._("h")},getMinutePlaceholder:function s(){return h._("min")},get12HourClockSuffix:function s(t){if(t<12)return h._("am");return h._("pm")},getUppercase12HourClockSuffix:function s(t){if(t<12)return h._("am");return h._("pm")}};f.exports=r}),null);
__d("padNumber",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=i.toString();if(k.length>=j)return k;return"0".repeat(j-k.length)+k}f.exports=h}),null);
__d("formatDate",["invariant","DateFormatConfig","DateStrings","padNumber"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(l,m,n){__p&&__p();n=n||{};if(!m||!l&&l!==0)return"";if(typeof l==="string")l=parseInt(l,10);if(typeof l==="number")l=new Date(l*1e3);l instanceof Date||h(0);!isNaN(l.getTime())||h(0);if(typeof m!=="string"){var o=j();for(var p in o){var q=o[p];if(l.getTime()<=Date.now()){if(q.start<=l.getTime()&&m[q.name]){m=m[q.name];break}}else if(l.getTime()<q.end&&m[q.name]){m=m[q.name];break}}}var r;if(n.skipPatternLocalization||!n.formatInternal&&k())r=m;else if(!c("DateFormatConfig").formats[m]){m.length===1||h(0);r=m}else r=c("DateFormatConfig").formats[m];var s=n.utc?"getUTC":"get",t=l[s+"Date"](),u=l[s+"Day"](),v=l[s+"Month"](),w=l[s+"FullYear"](),x=l[s+"Hours"](),y=l[s+"Minutes"](),z=l[s+"Seconds"](),A=l[s+"Milliseconds"](),B="";for(var C=0;C<r.length;C++){var D=r.charAt(C);switch(D){case"\\":C++;B+=r.charAt(C);break;case"d":B+=c("padNumber")(t,2);break;case"j":B+=t;break;case"S":B+=c("DateStrings").getOrdinalSuffix(t);break;case"D":B+=c("DateStrings").getWeekdayNameShort(u);break;case"l":B+=c("DateStrings").getWeekdayName(u);break;case"F":case"f":B+=c("DateStrings").getMonthName(v+1);break;case"M":B+=c("DateStrings").getMonthNameShort(v+1);break;case"m":B+=c("padNumber")(v+1,2);break;case"n":B+=v+1;break;case"Y":B+=w;break;case"y":B+=(""+w).slice(2);break;case"a":if(n.skipSuffixLocalization)B+=x<12?"am":"pm";else B+=c("DateStrings").get12HourClockSuffix(x);break;case"A":if(n.skipSuffixLocalization)B+=x<12?"AM":"PM";else B+=c("DateStrings").getUppercase12HourClockSuffix(x);break;case"g":B+=x===0||x===12?12:x%12;break;case"G":B+=x;break;case"h":if(x===0||x===12)B+=12;else B+=c("padNumber")(x%12,2);break;case"H":B+=c("padNumber")(x,2);break;case"i":B+=c("padNumber")(y,2);break;case"s":B+=c("padNumber")(z,2);break;case"X":B+=c("padNumber")(A,3);break;default:B+=D}}return B}function j(){var l=new Date(),m=l.getTime(),n=l.getFullYear(),o=l.getMonth(),p=new Date(n,l.getMonth()+1,0).getDate(),q=new Date(n,1,29).getMonth()===1?366:365,r=1e3*60*60*24,s=new Date(l.setHours(0,0,0,0)),t=new Date(n,o,s.getDate()+1),u=l.getDate()-(l.getDay()-c("DateFormatConfig").weekStart+6)%7,v=new Date(l.getTime()).setDate(u),w=new Date(l.getTime()).setDate(u+7),x=new Date(n,o,1),y=new Date(n,o,p+1),z=new Date(n,0,1),A=new Date(n+1,0,1);return[{name:"today",start:s.getTime(),end:t.getTime()},{name:"withinDay",start:m-r,end:m+r},{name:"thisWeek",start:v,end:w},{name:"withinWeek",start:m-r*7,end:m+r*7},{name:"thisMonth",start:x.getTime(),end:y.getTime()},{name:"withinMonth",start:m-r*p,end:m+r*p},{name:"thisYear",start:z.getTime(),end:A.getTime()},{name:"withinYear",start:m-r*q,end:m+r*q},{name:"older",start:-Infinity},{name:"future",end:+Infinity}]}i.periodNames=["today","thisWeek","thisMonth","thisYear","withinDay","withinWeek","withinMonth","withinYear","older","future"];function k(){if(typeof window==="undefined"||!window||!window.location||!window.location.pathname)return false;var l=window.location.pathname,m="/intern";return l.substr(0,m.length)===m}f.exports=i}),null);
__d("FBStoryTrayFriendItemSubtitle.react",["cx","React","formatDate","Timestamp.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){var k=j.lastUpdateTime,l=[k&&c("React").createElement(c("Timestamp.react"),{key:"timestamp",autoUpdate:true,time:k,text:c("formatDate")(k,"M j, Y",{utc:true})})];return c("React").createElement("div",{className:"_31yn"},l)}f.exports=i}),null);
__d("FBStoryTrayItem.react",["cx","fbt","ix","Bootloader","CameraPostTypesHelper","Image.react","IntlVariations","Tooltip.react","React","fbglyph","emptyFunction","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={shouldRenderWithTooltip:false},this.$FBStoryTrayItem2=function(){if(!this.state.shouldRenderWithTooltip)this.setState({shouldRenderWithTooltip:true});if(this.props.onHover)this.props.onHover(this.props.bucketID)}.bind(this),this.$FBStoryTrayItem3=function(){if(this.props.onHoverOut)this.props.onHoverOut(this.props.bucketID)}.bind(this),this.$FBStoryTrayItem4=function(){if(!this.props.disabled&&!this.props.loading)this.props.onSelect(this.props.bucketID)}.bind(this),o}m.prototype.componentDidMount=function(){if(this.props.liveVideoID)c("Bootloader").loadModules(["VideoPlayerMetaData"],function(n){n.genVideoData(this.props.liveVideoID).done()}.bind(this),"FBStoryTrayItem.react")};m.prototype.render=function(){if(!this.props.bucketID)return null;var n=this.props.isBucketLive,o=!!this.props.imageUrl,p=this.props.secondaryImageUrl&&!n,q="_1fw9"+(this.props.highlighted?" _1fw0":"")+(n?" _erm":"")+(o?" _1fwa":""),r=o?c("React").createElement(c("Image.react"),{src:this.props.imageUrl,className:"_1fwb"}):null,s=p?[c("React").createElement(c("Image.react"),{key:"img",src:this.props.secondaryImageUrl,className:"_1fwc"}),c("React").createElement(c("Image.react"),{key:"icon",className:"_4uz_",src:j("354763"),width:24})]:null,t=this.$FBStoryTrayItem1(),u=c("React").createElement("div",{className:q},r,this.props.showBlueIndicator&&c("React").createElement("div",{className:"_3xlk"}),t,this.props.loading&&c("React").createElement("div",{className:"_1dbr"},c("React").createElement(c("XUISpinner.react"),{size:"large",background:o?"light":"dark",className:"_1dbs"})),n&&c("React").createElement("div",{className:"_ern"},c("React").createElement(c("Image.react"),{alt:i._("EN DIRECTO"),src:j("118398")})),s),v=c("React").createElement("div",{className:"_efz"},c("React").createElement("span",{className:"_ef_ _4u-0"},i._("Tu historia")),this.props.subtitleComponent),w=c("React").createElement("div",{dir:"auto",className:"_1fw3"},c("React").createElement("span",{className:"_4u-0"},this.props.actorName),this.props.subtitleComponent),x=c("IntlVariations").GENDER_UNKNOWN;if(this.props.actorGender==="MALE")x=c("IntlVariations").GENDER_MALE;else if(this.props.actorGender==="FEMALE")x=c("IntlVariations").GENDER_FEMALE;var y=this.props.isOwnBucket?i._("Ve tu historia"):i._({"*":"Ve la historia de {actor name}"},[i.param("actor name",this.props.actorName,[1,x])]),z=this.props.isOwnBucket?v:w,A=this.state.shouldRenderWithTooltip&&!this.props.fullWidth?c("React").createElement("div",{className:"_3zck"},c("React").createElement(c("Tooltip.react"),{tooltip:y,alignH:"center"},u,z)):c("React").createElement("div",null,u,z);return c("React").createElement("div",{role:"button",tabIndex:"0",onMouseEnter:this.$FBStoryTrayItem2,onMouseLeave:this.$FBStoryTrayItem3,onClick:this.$FBStoryTrayItem4,onKeyPress:this.$FBStoryTrayItem4,className:"_1fvw"+(this.props.disabled?" _4lu8":"")+(this.props.loading?" loading":"")},A)};m.prototype.$FBStoryTrayItem1=function(){var n=c("CameraPostTypesHelper").isEventStory(this.props.cameraPostType),o=c("CameraPostTypesHelper").isGroupStory(this.props.cameraPostType),p=!!this.props.imageUrl,q=c("React").createElement("div",{className:(n?"_1464":"")+(o?" _27v0":"")}),r=p?c("React").createElement("div",{className:"_1dbr"},q):c("React").createElement("div",{className:"_1fwb"+(n?" _144-":"")+(o?" _27v2":"")},q);return n||o?r:null};m.defaultProps={disabled:false,actorName:"",actorGender:"",highlighted:false,showBlueIndicator:false,isOwnBucket:false,isBucketLive:false,onHover:c("emptyFunction"),onHoverOut:c("emptyFunction"),loading:false,fullWidth:false,subtitleComponent:null};f.exports=m}),null);
__d("FBStoryTrayOwnerItemSubtitle.react",["cx","fbt","React","formatDate","Timestamp.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){var l=k.lastUpdateTime,m=[l&&c("React").createElement(c("Timestamp.react"),{key:"timestamp",autoUpdate:true,time:l,text:c("formatDate")(l,"M j, Y",{utc:true})})];return c("React").createElement("div",{className:"_31yn"},m)}f.exports=j}),null);
__d("asset",[],(function a(b,c,d,e,f,g){function h(i){throw new Error("asset("+JSON.stringify(i)+"): Unexpected asset reference.")}f.exports=h}),null);
__d("range",[],(function a(b,c,d,e,f,g){function h(i,j,k){k=!k?i<j?1:-1:k;var l=-1,m=Math.max(Math.ceil((j-i)/k),0),n=Array(m);while(m--){n[++l]=i;i+=k}return n}f.exports=h}),null);
__d("HorizontalScroll.react",["ix","cx","fbt","asset","compactArray","emptyFunction","range","Bootloader","BootloadOnRender.react","Image.react","JSResource","LazyComponent.react","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=400;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.defaultProps={placeholderFactory:c("emptyFunction")};this.$HorizontalScroll4=function(){if(!this.state.scrolling&&this.$HorizontalScroll1)this.setState({scrollLeft:this.$HorizontalScroll1.scrollLeft})}.bind(this);this.state={itemCount:0,offsetWidth:0,scrolling:false,scrollLeft:0,scrollWidth:0,viewportItemsCount:0};this.$HorizontalScroll2=this.$HorizontalScroll2.bind(this);this.$HorizontalScroll3=this.$HorizontalScroll3.bind(this)}n.prototype.componentDidMount=function(){var o=this.props.itemMarginWidth,p=this.props.itemWidth,q=this.$HorizontalScroll1.offsetWidth,r=0;if(p<=q)r=1+Math.floor((q-p)/(p+o));this.setState({offsetWidth:q,scrollLeft:this.$HorizontalScroll1.scrollLeft,scrollWidth:this.$HorizontalScroll1.scrollWidth,viewportItemsCount:r})};n.prototype.componentDidUpdate=function(o,p){if(p.scrollLeft!==this.state.scrollLeft)if(this.$HorizontalScroll1){c("Bootloader").loadModules(["Animation","Ease"],function(q,r){new q(this.$HorizontalScroll1).duration(m).ease(r.circOut).ondone(function(){this.setState({scrolling:false})}.bind(this)).to("scrollLeft",this.state.scrollLeft).go()}.bind(this),"HorizontalScroll.react");this.setState({scrolling:true})}};n.prototype.componentWillUpdate=function(o,p){var q=o.children?c("compactArray")(c("React").Children.toArray(o.children)):[],r=q.length;if(r!=this.state.itemCount)this.setState({itemCount:r})};n.prototype.render=function(){var o=this.state.scrollLeft===0,p=this.state.scrollLeft>=this.getMaxLeft()||this.state.itemCount<=this.state.viewportItemsCount,q=c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{"aria-label":j._("Ver m\u00e1s resultados de la izquierda"),className:"_1rk2 _6107","data-testid":"horizontalScroll/leftArrow",href:{url:"#"},image:c("React").createElement(c("Image.react"),{src:h("374382")}),label:"With a Hidden Label",labelIsHidden:true,onClick:this.$HorizontalScroll2}),loader:c("JSResource")("XUIButton.react").__setRef("HorizontalScroll.react"),placeholder:c("React").createElement("span",null)}),r=c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{"aria-label":j._("Ver m\u00e1s resultados de la derecha"),className:"_1rkd _6107","data-testid":"horizontalScroll/rightArrow",href:{url:"#"},image:c("React").createElement(c("Image.react"),{src:h("374391")}),label:"With a Hidden Label",labelIsHidden:true,onClick:this.$HorizontalScroll3}),loader:c("JSResource")("XUIButton.react").__setRef("HorizontalScroll.react"),placeholder:c("React").createElement("span",null)});return c("React").createElement("div",{className:"_lmj"+(this.state.viewportItemsCount===4?" _1iug":"")+(this.state.scrolling?" _3_9y":""),onScroll:this.$HorizontalScroll4,ref:function(s){return this.$HorizontalScroll1=s}.bind(this)},this.props.children,this.$HorizontalScroll5(),!o&&q,!p&&r)};n.prototype.getMaxLeft=function(){return this.state.scrollWidth-this.state.offsetWidth-this.props.itemMarginWidth};n.prototype.$HorizontalScroll5=function(){var o=Math.max(0,this.state.viewportItemsCount-this.state.itemCount);return c("range")(0,o).map(this.props.placeholderFactory)};n.prototype.$HorizontalScroll6=function(o){var p=this.state.viewportItemsCount*(this.props.itemWidth+this.props.itemMarginWidth),q=this.getMaxLeft(),r=o?q-(this.state.scrollLeft+p):this.state.scrollLeft-p;return r<this.props.itemWidth?q:p};n.prototype.$HorizontalScroll2=function(){var o=Math.max(0,this.$HorizontalScroll1.scrollLeft-this.$HorizontalScroll6(false));this.setState({scrollLeft:o})};n.prototype.$HorizontalScroll3=function(){var o=Math.min(this.getMaxLeft(),this.$HorizontalScroll1.scrollLeft+this.$HorizontalScroll6(true));this.setState({scrollLeft:o})};f.exports=n}),null);
__d("FBStoriesTray.react",["cx","FBStoriesVerticalLayout.react","React","emptyFunction","FBStoriesBucketHelper","FBStoriesThreadHelper","FBStoryTrayItem.react","HorizontalScroll.react","FBStoryAddStoryItem.react","FBStoryTrayOwnerItemSubtitle.react","FBStoryTrayFriendItemSubtitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=64,l=8;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){__p&&__p();var n=this.props,o=n.friendsData,p=n.userBucketHasContent,q=!o||o.length===0;if(q&&!p)return null;var r=[];if(this.props.showProduction)r.push(this.$FBStoriesTray1());if(this.props.userBucketHasContent)r.push(this.$FBStoriesTray2());r=r.concat([].concat(this.$FBStoriesTray3()));if(this.props.vertical)return c("React").createElement(c("FBStoriesVerticalLayout.react"),{showPreviews:this.$FBStoriesTray4()},r);var s=k,t=l,u="_1fvt";return c("React").createElement("div",{className:u},c("React").createElement(c("HorizontalScroll.react"),{itemWidth:s,itemMarginWidth:t,placeholderFactory:this.$FBStoriesTray5},r))};m.prototype.$FBStoriesTray5=function(n){return c("React").createElement("div",{key:n,className:"_1fvw"},c("React").createElement("div",{className:"_rqg"}))};m.prototype.$FBStoriesTray1=function(){var n=c("FBStoriesBucketHelper").getOwnerProfilePictureUri(this.props.userBucket);return c("React").createElement(c("FBStoryAddStoryItem.react"),{imageUrl:n,key:"production"})};m.prototype.$FBStoriesTray2=function(){var n=this.props,o=n.userBucket,p=n.userBucketHasNewViewers,q=n.userBucketIsLive,r=c("FBStoriesBucketHelper").getOwnerProfilePictureUri(o),s=c("FBStoriesBucketHelper").getPreviewImage(o),t=c("FBStoriesBucketHelper").getCameraPostType(o),u=c("FBStoriesBucketHelper").getId(o),v=c("FBStoriesBucketHelper").getMediaIDForLiveBucket(o),w=c("FBStoriesBucketHelper").getLatestThreadCreationTime(o),x=void 0,y=void 0;if(this.$FBStoriesTray4()){x=r;y=s}else{x=r;y=null}return c("React").createElement(c("FBStoryTrayItem.react"),{highlighted:p,showBlueIndicator:p,bucketID:u,key:u,imageUrl:x,secondaryImageUrl:y,isOwnBucket:true,isBucketLive:q,liveVideoID:v,onHover:this.props.onItemHover,onHoverOut:this.props.onItemHoverOut,onSelect:this.props.onItemSelect,cameraPostType:t,loading:this.props.loadingBucketID===u,fullWidth:this.props.vertical,subtitleComponent:this.props.vertical&&c("React").createElement(c("FBStoryTrayOwnerItemSubtitle.react"),{lastUpdateTime:w})})};m.prototype.$FBStoriesTray3=function(){__p&&__p();return this.props.friendsData.map(function(n,o){__p&&__p();var p=c("FBStoriesBucketHelper").getId(n);if(!p)return null;var q=c("FBStoriesBucketHelper").getCameraPostType(n),r=c("FBStoriesBucketHelper").getOwnerId(n),s=c("FBStoriesBucketHelper").getOwnerName(n,this.props.vertical);if(!r||!s)return null;var t=c("FBStoriesBucketHelper").isLive(n),u=c("FBStoriesBucketHelper").getOwnerProfilePictureUri(n),v=void 0,w=void 0;if(this.$FBStoriesTray4()){v=u;w=c("FBStoriesBucketHelper").getPreviewImage(n)}else{v=u;w=null}var x=c("FBStoriesBucketHelper").getThreads(n),y=x.filter(function(B){return!c("FBStoriesThreadHelper").isSeenByViewer(B)}).length>0,z=c("FBStoriesBucketHelper").getLatestThreadCreationTime(n),A={bucketID:p,actorName:s,actorGender:c("FBStoriesBucketHelper").getOwnerGender(n),imageUrl:v,liveVideoID:c("FBStoriesBucketHelper").getMediaIDForLiveBucket(n),secondaryImageUrl:w,highlighted:y,isBucketLive:t,key:r,onHover:this.props.onItemHover,onHoverOut:this.props.onItemHoverOut,onSelect:this.props.onItemSelect,cameraPostType:q,loading:this.props.loadingBucketID===p,fullWidth:this.props.vertical,subtitleComponent:this.props.vertical&&c("React").createElement(c("FBStoryTrayFriendItemSubtitle.react"),{lastUpdateTime:z})};return c("React").createElement(c("FBStoryTrayItem.react"),A)}.bind(this))};m.prototype.$FBStoriesTray4=function(){return this.props.vertical&&this.props.showAsPreviews&&!this.props.userBucketIsLive};function m(){i.apply(this,arguments)}m.defaultProps={onItemHover:c("emptyFunction"),onItemHoverOut:c("emptyFunction"),loadingBucketID:null,vertical:false,showProduction:false};f.exports=m}),null);
__d("FBStoriesTrayHeader.react",["ix","cx","fbt","React","Tooltip.react","Image.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=function k(){var l=c("React").createElement(c("Image.react"),{className:"_2ms3",src:h("126682")});return c("React").createElement("div",{className:"_2mro"},c("React").createElement("span",{className:"_2ms2"},j._("Historias")),c("React").createElement(c("Tooltip.react"),{tooltip:j._("Las historias son fotos y v\u00eddeos que pueden verse durante 24 horas. Cuando alguien a\u00f1ada contenido a su historia, se mostrar\u00e1 aqu\u00ed.")},l))};f.exports=k}),null);
__d("FBStoriesTrayContainer.react",["cx","Bootloader","FBStoriesBucketHelper","FBStoriesLoggingConstants","FBStoriesStore","FBStoriesTray.react","FBStoriesTrayHeader.react","FluxContainer","React","range"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={friendsData:[],userBucket:c("FBStoriesBucketHelper").getDefaultBucket(),userBucketHasNewViewers:false,userBucketHasContent:false,loading:true,bucketIdBeingLoaded:null,userBucketIsLive:false},this.$FBStoriesTrayContainer2=function(r){this.setState({bucketIdBeingLoaded:r});c("Bootloader").loadModules(["FBStoriesActions","FBStoriesLoggingHelper"],function(s,t){if(s.userSelectedBucket(r)){s.toggleViewer(true);t.storyLog(c("FBStoriesLoggingConstants").ACTION_OPEN_STORY,c("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_STORY_HEAD)}this.setState({bucketIdBeingLoaded:null})}.bind(this),"FBStoriesTrayContainer.react")}.bind(this),n}k.getStores=function(){return[c("FBStoriesStore")]};k.calculateState=function(m){return{userBucket:c("FBStoriesStore").getUserBucketData(),userBucketHasNewViewers:c("FBStoriesStore").hasOwnBucketViewers(),userBucketHasContent:c("FBStoriesStore").hasOwnBucketContent(),friendsData:c("FBStoriesStore").getFriendsBucketData(),loading:c("FBStoriesStore").isLoading(),userBucketIsLive:c("FBStoriesStore").userBucketIsLive()}};k.prototype.render=function(){var m="_60kg"+(this.props.showVerticalTray?" vertical":"");if(this.state.loading)return c("React").createElement("div",{className:m},c("React").createElement(c("FBStoriesTrayHeader.react"),null),c("React").createElement(l,null));if(this.$FBStoriesTrayContainer1())return c("React").createElement("div",{className:m});return c("React").createElement("div",{className:m},c("React").createElement(c("FBStoriesTrayHeader.react"),null),c("React").createElement(c("FBStoriesTray.react"),{vertical:this.props.showVerticalTray,showAsPreviews:this.props.showAsPreviews,showProduction:this.props.showProduction,friendsData:this.state.friendsData,userBucket:this.state.userBucket,userBucketHasContent:this.state.userBucketHasContent,userBucketHasNewViewers:this.state.userBucketHasNewViewers,loading:this.state.loading,loadingBucketID:this.state.bucketIdBeingLoaded,userBucketIsLive:this.state.userBucketIsLive,onItemSelect:this.$FBStoriesTrayContainer2}))};k.prototype.$FBStoriesTrayContainer1=function(){var m=this.state,n=m.friendsData,o=m.userBucket,p=m.loading,q=!c("FBStoriesBucketHelper").hasData(o),r=!n||n.length===0,s=q&&r;return!p&&s};k.defaultProps={showAsPreviews:false,showProduction:false,showVerticalTray:false};var l=function l(m){var n=function n(o){return c("React").createElement("div",{className:"_h0-",key:o},c("React").createElement("div",{className:"_2ms4"},c("React").createElement("div",{className:"_2ms5"})),c("React").createElement("div",{className:"_2ms6"}),c("React").createElement("div",{className:"_2ms8"}))};return c("React").createElement("div",{className:"_h1i"},c("React").createElement("div",{className:"_h1m"},c("range")(0,10).map(n)))};f.exports=c("FluxContainer").create(k)}),null);
__d("AsyncDataPreloader",["AsyncData"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){var j=i.id;"use strict";this.$AsyncDataPreloader1=j;this.$AsyncDataPreloader2=c("AsyncData").preload.call(null,this.$AsyncDataPreloader1)}h.prototype.onLoaded=function(i){"use strict";this.$AsyncDataPreloader2.onLoaded(i);return this};h.prototype.onError=function(i){"use strict";this.$AsyncDataPreloader2.onError(i);return this};f.exports=h}),null);